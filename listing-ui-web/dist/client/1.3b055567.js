(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{245:function(e,t,r){"use strict";r.r(t);r(161),r(163),r(164),r(98),r(97),r(167),r(165),r(162),r(157),r(100);var a,n=r(0),i=r.n(n),o=r(36),l=r(267),c=r(226),s=r(268),u=r(234),m=r(266),p=r(261),d=Object(u.a)((function(e){return{parentContainer:{display:"flex",flex:1,flexDirection:"row",justifyContent:"center",color:"white",backgroundColor:"grey",paddingTop:e.spacing(1),paddingBottom:e.spacing(1),alignItems:"center",top:"0px",position:"sticky",zIndex:e.zIndex.appBar},element:{paddingRight:e.spacing(1),paddingLeft:e.spacing(1)}}})),f=function(e){var t=e.saving,r=e.lastSaved,a=d({}),n=new Intl.DateTimeFormat("en-Us",{month:"short",year:"numeric",day:"numeric",hour:"numeric",minute:"numeric"}).format(r);return i.a.createElement("div",{className:a.parentContainer},i.a.createElement("div",{className:a.element},"Draft Mode"),i.a.createElement("div",{className:a.element},t?i.a.createElement("div",{style:{display:"flex"}},i.a.createElement(p.a,{size:"1rem",style:{color:"white"}})):"Last saved ".concat(n)))},b=r(130),g=r(133),y=r(535),v=r(54),h=r(508),O=function(e){var t=e.customer;return i.a.createElement(y.a,{"aria-label":"breadcrumb"},i.a.createElement(h.a,{href:t.route},t.label),i.a.createElement(v.a,{color:"textPrimary"},"Create a draft property listing"))},E=(r(284),r(291),r(99),r(292),r(293),r(278),r(359),r(294),r(277)),j=r(513),w=r(71),x=r(481),P=r.n(x),S=r(483),D=r.n(S),C=r(482),k=r.n(C),I=r(400);!(function(e){e.METRIC="metric",e.IMPERIAL="imperial"})(a||(a={}));var R=Object(I.d)({current:Object(I.c)().integer().min(0).max(100).label("Current rating"),potential:Object(I.c)().integer().min(0).max(100).label("Potential rating")}),A=Object(I.d)({status:Object(I.e)(),rrn:Object(I.e)(),uri:Object(I.e)(),eer:R,eir:R,isValid:Object(I.b)()}),T=Object(I.d)({status:Object(I.e)(),eer:R,eir:R}),N=Object(I.d)({bedroomTotal:Object(I.c)(),minPrice:Object(I.c)(),maxPrice:Object(I.c)(),epc:Object(I.d)().when("isScottishProperty",{is:!0,then:A.nullable(),otherwise:A}),homeReport:Object(I.d)().when("isScottishProperty",{is:!1,then:T.nullable(),otherwise:T}),propertyType:Object(I.e)(),propertyStyle:Object(I.e)(),newBuild:Object(I.b)(),isScottishProperty:Object(I.b)()}),F=Object(I.d)({main:Object(I.c)().typeError("Please enter a number").integer("Please enter a whole number").positive("Please enter a number greater than 0"),sub:Object(I.c)().typeError("Please enter a number").integer("Please enter a whole number").positive("Please enter a number greater than 0")}),H=Object(I.d)({id:Object(I.e)(),title:Object(I.e)(),description:Object(I.e)(),displayOrder:Object(I.c)().integer().min(0),measurements:Object(I.d)({length:F,width:F})}),L=Object(I.d)({summary:Object(I.e)(),measurementUnit:Object(I.e)().oneOf([a.IMPERIAL,a.METRIC]),rooms:Object(I.a)().of(H)}),B=Object(I.d)({sameDay:Object(I.b)(),type:Object(I.e)(),autoConfirm:Object(I.b)()}),M=Object(I.d)({confirmedId:Object(I.b)(),confirmedLandRegistryOwnership:Object(I.b)(),landRegistryDocsUri:Object(I.e)(),confirmedCorrectData:Object(I.b)(),agencyAgreementSignedDate:Object(I.e)(),agencyAgreementPeriod:Object(I.c)(),competitorAgreementExpiry:Object(I.e)().nullable()}),U=Object(I.d)({uri:Object(I.e)(),isPrimary:Object(I.b)(),id:Object(I.e)(),caption:Object(I.e)(),name:Object(I.e)(),fileSize:Object(I.c)()}),W=Object(I.d)({uri:Object(I.e)(),id:Object(I.e)(),name:Object(I.e)(),fileSize:Object(I.c)()}),G=Object(I.d)({order:Object(I.c)(),feature:Object(I.e)()}),z=Object(I.d)({code:Object(I.e)().max(6).label("Metropix Floor Plan code"),image:W}),V=Object(I.d)({id:Object(I.e)(),marketPrice:Object(I.c)(),priceQualifier:Object(I.e)().nullable(),images:Object(I.a)().of(U),floorPlan:z,video:Object(I.e)(),tour:Object(I.e)(),descriptions:L,viewingRules:B,compliance:M,agencyHasKeys:Object(I.b)(),agencyKeysRef:Object(I.e)(),sentAdvancedMarketingPack:Object(I.b)(),keyFeatures:Object(I.a)().of(G)}),Y=Object(I.d)({propertyDetails:N,listingUri:Object(I.e)(),listingDetails:V});function _(e,t,r,a,n,i,o){try{var l=e[i](o),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(a,n)}function $(e){return function(){var t=this,r=arguments;return new Promise((function(a,n){var i=e.apply(t,r);function o(e){_(i,a,n,o,l,"next",e)}function l(e){_(i,a,n,o,l,"throw",e)}o(void 0)}))}}var q=function(e){var t,r,a,o=e.saveDelaySeconds,l=Object(E.e)();return t=$(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.submitForm();case 2:case"end":return e.stop()}}),e)}))),r=1e3*o,a=Object(n.useRef)(),Object(n.useEffect)((function(){a.current=t}),[t]),Object(n.useEffect)((function(){if(null!==r){var e=setInterval((function(){void 0!==a.current&&a.current()}),r);return function(){return clearInterval(e)}}return function(){}}),[r]),i.a.createElement(i.a.Fragment,null)};var K=r(514),Q=r(515),J=r(516),X=r(530);r(286),r(279);function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(r),!0).forEach((function(t){te(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function te(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function re(e,t){return (function(e){if(Array.isArray(e))return e})(e)||(function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],a=!0,n=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(a=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);a=!0);}catch(e){n=!0,i=e}finally{try{a||null==l.return||l.return()}finally{if(n)throw i}}return r})(e,t)||(function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")})()}function ae(e,t){if(null==e)return{};var r,a,n=(function(e,t){if(null==e)return{};var r,a,n={},i=Object.keys(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||(n[r]=e[r]);return n})(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ne(e){var t=e.children,r=ae(e,["children"]);return i.a.createElement(X.a,(function(e,t){var r,a,n=e.disabled,i=e.name,o=e.onChange,l=e.onBlur,c=e.validate,s=ae(e,["disabled","name","onChange","onBlur","validate"]),u=Object(E.e)().isSubmitting,m=Object(E.d)({name:i,onChange:o,onBlur:l,validate:c}),p=re(m,2),d=p[0],f=p[1],b=f.error,g=f.touched&&!!b;return ee({},s,{},d,{error:g,helperText:g?b:s.helperText,disabled:null!=n?n:u,variant:null!==(r=s.variant)&&void 0!==r?r:"outlined",type:null!==(a=s.type)&&void 0!==a?a:"text",onChange:o||d.onChange,onBlur:l||d.onBlur,InputLabelProps:ee({htmlFor:d.name},s.InputLabelProps),InputProps:ee({id:d.name},s.InputProps)},null==t?void 0:t(m))})(r),t)}var ie=[{NotSpecified:"Not Specified"},{Apartment:"Apartment"},{Barn:"Barn"},{BarnConversion:"Barn Conversion"},{BarNightclub:"Bar/Nightclub"},{BlockOfApartments:"Block Of Apartments"},{Bungalow:"Bungalow"},{BusinessPark:"Business Park"},{Cafe:"Cafe"},{CampsiteOrHolidayVillage:"Campsite Or Holiday Village"},{Caravan:"Caravan"},{Castle:"Castle"},{CaveHouse:"Cave House"},{Chalet:"Chalet"},{CharacterProperty:"Character Property"},{ChildcareFacility:"Childcare Facility"},{ClusterHouse:"Cluster House"},{CoachHouse:"Coach House"},{CommercialDevelopment:"Commercial Development"},{CommercialProperty:"Commercial Property"},{ConvenienceStore:"Convenience Store"},{Cortijo:"Cortijo"},{Cottage:"Cottage"},{CountryHouse:"Country House"},{DataCentre:"Data Centre"},{DetachedBungalow:"Detached Bungalow"},{DetachedHouse:"Detached House"},{DetachedVilla:"Detached Villa"},{DistributionWarehouse:"Distribution Warehouse"},{Duplex:"Duplex"},{EndTerraceHouse:"End Terrace House"},{EquestrianFacility:"Equestrian Facility"},{Factory:"Factory"},{Farm:"Farm"},{FarmHouse:"Farm House"},{FarmLand:"Farm Land"},{Finca:"Finca"},{Flat:"Flat"},{FlatShare:"Flat Share"},{Garages:"Garages"},{Gite:"Gite"},{GroundFloorFlat:"Ground Floor Flat"},{GroundFloorMaisonette:"Ground Floor Maisonette"},{GuestHouse:"Guest House"},{HairdresserBarberShop:"Hairdresser/BarberShop"},{HealthcareFacility:"Healthcare Facility"},{HeavyIndustrial:"Heavy Industrial"},{Hospitality:"Hospitality"},{Hotel:"Hotel"},{HotelRoom:"Hotel Room"},{HouseBoat:"House Boat"},{HouseOfMultipleOccupation:"House Of Multiple Occupation"},{HouseShare:"House Share"},{HouseUnspecified:"House Unspecified"},{IndustrialDevelopment:"Industrial Development"},{IndustrialPark:"Industrial Park"},{LandCommercial:"Land Commercial"},{LandResidential:"Land Residential"},{LeisureFacility:"Leisure Facility"},{LightIndustrial:"Light Industrial"},{LinkDetachedHouse:"Link Detached House"},{Lodge:"Lodge"},{LogCabin:"Log Cabin"},{Longere:"Longere"},{Maisonette:"Maisonette"},{ManorHouse:"Manor House"},{MarineProperty:"Marine Property"},{MewsHouse:"Mews House"},{Mill:"Mill"},{MixedUse:"Mixed Use"},{MobileHome:"Mobile Home"},{Office:"Office"},{OffPlan:"Off Plan"},{ParkHome:"Park Home"},{Parking:"Parking"},{Penthouse:"Penthouse"},{PetrolStation:"Petrol Station"},{PlaceOfWorship:"Place Of Worship"},{Plot:"Plot"},{PostOffice:"Post Office"},{PrivateHalls:"Private Halls"},{Pub:"Pub"},{ResearchAndDevelopmentFacility:"Research And Development Facility"},{ResidentialDevelopment:"Residential Development"},{Restaurant:"Restaurant"},{RetailPropertyHighStreet:"Retail Property High Street"},{RetailPropertyOutOfTown:"Retail Property Out Of Town"},{RetirementProperty:"Retirement Property"},{Riad:"Riad"},{Ruins:"Ruins"},{SciencePark:"Science Park"},{SemiDetachedBungalow:"Semi Detached Bungalow"},{SemiDetachedHouse:"Semi Detached House"},{SemiDetachedVilla:"Semi Detached Villa"},{ServicedApartment:"Serviced Apartment"},{ServicedOffice:"Serviced Office"},{ShelteredHousing:"Sheltered Housing"},{Shop:"Shop"},{Showroom:"Showroom"},{Smallholding:"Smallholding"},{Spa:"Spa"},{SportsFacilities:"Sports Facilities"},{StatelyHome:"Stately Home"},{StoneHouse:"Stone House"},{Storage:"Storage"},{StudioFlat:"Studio Flat"},{Takeaway:"Takeaway"},{TerracedBungalow:"Terraced Bungalow"},{TownHouse:"Town House"},{TradeCounter:"Trade Counter"},{Triplex:"Triplex"},{Trulli:"Trulli"},{Villa:"Villa"},{VillageHouse:"Village House"},{Warehouse:"Warehouse"},{WorkshopOrRetailSpace:"Workshop Or Retail Space"},{TerracedHouse:"Terraced House"}],oe=[{NotSpecified:"Not Specified"},{Bungalow:"Bungalow"},{Commercial:"Commercial"},{FlatOrApartment:"Flat Or Apartment"},{House:"House"},{Land:"Land"},{Other:"Other"},{ParkHome:"Park Home"}],le=Object(u.a)((function(e){return{title:{textTransform:"uppercase"}}})),ce=[0,1,2,3,4],se=function(){var e=le().title,t=Object(E.e)(),r=t.values,a=t.setFieldValue;return i.a.createElement(j.a,null,i.a.createElement(K.a,{title:"Basic Property Info",className:e}),i.a.createElement(Q.a,null,i.a.createElement(l.a,{container:!0,spacing:3},i.a.createElement(l.a,{item:!0,xs:12,sm:6,md:3},i.a.createElement(ne,{label:"Type",name:"propertyDetails.propertyType",fullWidth:!0,select:!0,variant:"outlined"},oe.map((function(e){var t=Object.keys(e)[0];return i.a.createElement(J.a,{key:t,value:t},e[t])})))),i.a.createElement(l.a,{item:!0,xs:12,sm:6,md:3},i.a.createElement(ne,{label:"Style",name:"propertyDetails.propertyStyle",fullWidth:!0,select:!0,variant:"outlined"},ie.map((function(e){var t=Object.keys(e)[0];return i.a.createElement(J.a,{key:t,value:t},e[t])})))),i.a.createElement(l.a,{item:!0,xs:12,sm:6,md:3},i.a.createElement(ne,{label:"Bedrooms",name:"propertyDetails.bedroomTotal",fullWidth:!0,select:!0,variant:"outlined"},ce.map((function(e){return i.a.createElement(J.a,{key:e,value:e},e)})))),i.a.createElement(l.a,{item:!0,xs:12,sm:6,md:3},i.a.createElement(X.a,{id:"new-build-field",label:"New build?",value:r.propertyDetails.newBuild?"Yes":"No",onChange:function(e){a("propertyDetails.newBuild","Yes"===e.target.value)},variant:"outlined",fullWidth:!0,select:!0},i.a.createElement(J.a,{value:"No"},"No"),i.a.createElement(J.a,{value:"Yes"},"Yes"))))))},ue=r(532),me=[{ComingSoon:"Coming Soon"},{FixedPrice:"Fixed Price"},{From:"From"},{GuidePrice:"Guide Price"},{OffersInExcessOf:"Offers In Excess Of"},{OffersInvited:"Offers Invited"},{OffersOver:"Offers Over"},{OIRO:"Offers In The Region Of"},{PartBuyPartRent:"Part Buy Part Rent"},{POA:"Price On Application"},{SaleByTender:"Sale By Tender"},{SharedOwnership:"Shared Ownership"},{SharedEquity:"Shared Equity"}],pe=Object(u.a)((function(e){return{title:{textTransform:"uppercase"},warningMessagePadding:{paddingTop:e.spacing(5)}}})),de=function(){var e=pe({}),t=Object(E.e)(),r=t.values,a=t.setFieldValue,n=r.listingDetails.marketPrice<r.propertyDetails.minPrice||r.listingDetails.marketPrice>r.propertyDetails.maxPrice;return i.a.createElement(j.a,null,i.a.createElement(K.a,{title:"Pricing",className:e.title}),i.a.createElement(Q.a,null,i.a.createElement(l.a,{container:!0,spacing:3},i.a.createElement(l.a,{item:!0,xs:12,sm:6,md:3},i.a.createElement(ne,{label:"Min Price",name:"propertyDetails.minPrice",placeholder:"£ Min",InputLabelProps:{shrink:!0},variant:"outlined",fullWidth:!0})),i.a.createElement(l.a,{item:!0,xs:12,sm:6,md:3},i.a.createElement(ne,{label:"Max Price",name:"propertyDetails.maxPrice",placeholder:"£ Max",InputLabelProps:{shrink:!0},variant:"outlined",fullWidth:!0})),i.a.createElement(l.a,{item:!0,xs:12,sm:6,md:3},i.a.createElement(ne,{label:"Market Price",placeholder:"£",name:"listingDetails.marketPrice",InputLabelProps:{shrink:!0},variant:"outlined",fullWidth:!0})),i.a.createElement(l.a,{item:!0,xs:12,sm:6,md:3},i.a.createElement(X.a,{id:"price-qualifier",label:"Price Qualifier","aria-label":"price-qualifier",value:r.listingDetails.priceQualifier?r.listingDetails.priceQualifier:"",onChange:function(e){a("listingDetails.priceQualifier",e.target.value)},variant:"outlined",select:!0,fullWidth:!0},i.a.createElement(J.a,{value:""},"None"),me.map((function(e){var t=Object.keys(e)[0];return i.a.createElement(J.a,{key:t,value:t},e[t])})))),i.a.createElement(l.a,{className:e.warningMessagePadding,item:!0,xs:12},n&&i.a.createElement(ue.a,{severity:"warning"},"The market price you have entered does not fall within the minumum and maximum price")))))},fe=(r(282),r(345),r(305),r(430),r(431),r(372),r(523)),be=r(12),ge=r(67),ye=r(518),ve=r(522),he=r(520),Oe=r(521),Ee=r(519),je=r(4),we=r(346),xe=r.n(we),Pe=r(438),Se=r.n(Pe),De=r(437),Ce=r.n(De),ke=r(374),Ie=r.n(ke),Re=r(156),Ae=r(96),Te=r(517),Ne=r(440),Fe=r.n(Ne),He=r(439),Le=r.n(He),Be=r(375),Me=r.n(Be);function Ue(e,t){if(null==e)return{};var r,a,n=(function(e,t){if(null==e)return{};var r,a,n={},i=Object.keys(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||(n[r]=e[r]);return n})(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var We=xe.a[400],Ge=xe.a[50],ze=Ce.a[500],Ve=Ie.a[200],Ye=Object(u.a)((function(e){return{root:{height:"100%",display:"block",overflow:"hidden",position:"relative",borderWidth:2,borderRadius:"2px",borderStyle:"solid",borderColor:"transparent","&:hover, &:focus":{"& $buttonRoot, & $groupSelectButton, & $imgOverlay":{opacity:1,visibility:"visible"}},"&$groupSelected":{"& $imgOverlay":{backgroundColor:"".concat(Object(be.c)(ze,.8))},"& $buttonRoot, & $groupSelectButton, & $imgOverlay":{opacity:1,visibility:"visible"}},"&$isUploading":{"& $img":{filter:"blur(2px)"},"& $imgOverlay":{backgroundColor:"".concat(Object(be.c)(We,.3)),opacity:1}}},img:{},buttonRoot:{width:"100%",height:"100%",position:"absolute",top:0,left:0,opacity:0,zIndex:3,"&:focus":{opacity:1,"& ~ $groupSelectButton, & ~ $imgOverlay":{opacity:1}}},selected:{borderColor:Object(be.c)(Ve,.8)},groupSelected:{},imgOverlay:{position:"absolute",left:0,top:0,width:"100%",height:"100%",opacity:0,zIndex:2,backgroundColor:"".concat(Object(be.c)(We,.8)),display:"flex",alignItems:"center",justifyContent:"center"},groupSelectButton:{position:"absolute",right:0,top:0,zIndex:4,opacity:0,"&:focus":{opacity:1,"& ~ $imgOverlay":{opacity:1}}},isPrimary:{position:"absolute",color:"".concat(Se.a[500]),bottom:"100%",left:"0",top:"0",zIndex:4},previewButtonWrapper:{position:"absolute",transform:"translate(-50%,-50%)",left:"50%",top:"50%"},previewButton:{backgroundColor:"".concat(Object(be.c)(Ge,0)),border:"2px solid ".concat(Object(be.c)(ze,1)),outline:"none",borderRadius:"1000px",color:"".concat(Object(be.c)(Ge,1)),borderColor:"".concat(Object(be.c)(Ge,1)),fontSize:16,padding:"".concat(e.spacing(.25),"px ").concat(e.spacing(1),"px")},isUploading:{}}})),_e=i.a.forwardRef((function(e,t){var r=Ye({}),a=e.isGroupSelected?e.handleToggleFromGroupSelect:e.onCurrentImageClick;return e.image.isUploading?i.a.createElement("div",{className:Object(je.a)(r.root,r.isUploading)},i.a.createElement("img",{src:e.image.preview||"".concat("#{API_BASE_URL}/files","/").concat(e.image.uri),alt:e.image.name||"something went wrong","data-testid":"thumb-image",ref:t,className:r.img}),i.a.createElement("div",{className:r.imgOverlay},i.a.createElement(p.a,{"data-testid":"thumb-spinner"}))):i.a.createElement("div",{className:Object(je.a)(r.root,e.isSelected&&r.selected,e.isGroupSelected&&r.groupSelected)},i.a.createElement("img",{src:e.image.preview||"".concat("#{API_BASE_URL}/files","/").concat(e.image.uri),alt:"Something went wrong","data-testid":"thumb-image",ref:t,className:r.img}),i.a.createElement(Ae.a,{disabled:e.isSelected,disableRipple:!0,onClick:a,className:r.buttonRoot,"data-testid":"thumb-button-".concat(e.i)},i.a.createElement("div",{className:r.previewButtonWrapper},e.isGroupSelected?i.a.createElement("span",{className:r.previewButton},"Deselect"):i.a.createElement("span",{className:r.previewButton},"Preview"))),i.a.createElement("div",{className:r.isPrimary},e.image.isPrimary&&i.a.createElement(Me.a,{"data-testid":"primary-star"})),i.a.createElement(Re.a,{className:r.groupSelectButton,onClick:e.handleToggleFromGroupSelect,color:"primary","aria-label":"group select"},e.isGroupSelected?i.a.createElement(Le.a,{fontSize:"small","data-testid":"checked-icon"}):i.a.createElement(Fe.a,{fontSize:"small","data-testid":"unchecked-icon"})),i.a.createElement("div",{className:r.imgOverlay}))}));_e.muiName="Image";var $e=function(e){var t=e.style,r=Ue(e,["style"]);return i.a.createElement(Te.a,{style:t},i.a.createElement(_e,r))},qe=(r(441),r(102),r(320),r(443),r(485)),Ke=r(69),Qe=r(70),Je=r(68);function Xe(){return(Xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}var Ze=Object(u.a)((function(e){return{root:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(2.5),borderWidth:2,borderRadius:2,borderColor:"".concat(ge.a[300]),borderStyle:"dashed",backgroundColor:"".concat(ge.a[200]),color:"".concat(ge.a[900]),transition:"border .24s ease-in-out",cursor:"pointer"},active:{borderColor:Ke.a.A200},valid:{borderColor:Qe.a.A200},invalid:{borderColor:Je.a.A200}}}));var et=function(e){var t,r=e.handleOnDrop,a=e.classes,n=void 0===a?{}:a,o=e.multipleFiles,c=e.name,s=e.fileTypes,u=Ze({});s&&(t=null==s?void 0:s.map((function(e){return e.split("/")[1]})));var m=i.a.createElement("p",null,"Drop your ",i.a.createElement("b",null,null!=c?c:"FILES")," (",t.join(", "),") here or"," ",i.a.createElement("b",null,"select")," from your computer"),p=Object(qe.a)({onDrop:r,accept:s,multiple:o}),d=p.getRootProps,f=p.getInputProps,b=p.isDragActive,g=p.isDragAccept,y=p.isDragReject,v=p.draggedFiles,h=[u.root,[b?u.active:null],[g?u.valid:null],[y?u.invalid:null]],O="";return O=!o&&v.length>1?"More than one file was added!":o?"One or more of the files were in the wrong format!":"The file was in the wrong format!",i.a.createElement(l.a,{item:!0,xs:12},i.a.createElement("div",Xe({},d({className:Object(je.a)(h,n.root)}),{"data-testid":"dropzone"}),i.a.createElement("input",f()),!b&&m,b&&!y&&i.a.createElement("p",null,"Drop me inside the box"),y&&i.a.createElement("p",null,O)))},tt=r(445),rt=r.n(tt),at=r.p+"27ea510f5a45913ef23b882e4e0a48f7.png",nt=xe.a[50],it=xe.a[900],ot=Object(u.a)((function(e){return{titleBar:{backgroundColor:it,position:"absolute",top:0,left:0,width:"100%",color:nt,padding:e.spacing(1),display:"flex",alignItems:"center",justifyContent:"flex-end"},previewImageContainer:{position:"relative",width:"100%",paddingTop:"56.25%",height:0,overflow:"hidden"},previewImageStyle:{position:"absolute",top:"50%",left:0,width:"100%",transform:"translateY(-50%)"},primaryIcon:{outlineColor:"".concat(Object(be.c)(nt,1)),color:"".concat(Object(be.c)(nt,1))}}})),lt=function(e){var t=e.currentSelectedImageIndex,r=ot(),a=Object(n.useRef)(null),o=Object(E.e)(),c=o.values,s=o.setFieldValue,u=null!==t&&c.listingDetails.images[t];Object(n.useEffect)((function(){a.current&&a.current.focus()}),[u]);return i.a.createElement(l.a,{item:!0,xs:12,md:6},u?i.a.createElement(l.a,{container:!0,spacing:2},i.a.createElement(l.a,{item:!0,xs:12},i.a.createElement("div",{className:r.previewImageContainer},i.a.createElement("img",{src:u.preview||"".concat("#{API_BASE_URL}/files","/").concat(u.uri),alt:u.name,className:r.previewImageStyle}),i.a.createElement("div",{className:r.titleBar},i.a.createElement("span",null,"Make this image primary"),i.a.createElement(Re.a,{onClick:function(){return e=c.listingDetails.images.map((function(e,r){return r===t?(e.isPrimary=!e.isPrimary,e):(e.isPrimary=!1,e)})),void s("listingDetails.images",e);var e},"data-testid":"primary-button"},u.isPrimary?i.a.createElement(Me.a,{className:r.primaryIcon,"data-testid":"isprimary-icon"}):i.a.createElement(rt.a,{className:r.primaryIcon,"data-testid":"isnotprimary-icon"}))))),i.a.createElement(l.a,{item:!0,xs:8},i.a.createElement(v.a,{variant:"h5"},"Caption this photograph"),i.a.createElement(ne,{inputRef:a,name:"listingDetails.images[".concat(t,"].caption"),label:"new name goes here",variant:"outlined",fullWidth:!0})),i.a.createElement(l.a,{item:!0,xs:4},i.a.createElement(v.a,{variant:"h5"},"Pos."),i.a.createElement(v.a,{variant:"h6"},t?c.listingDetails.images.indexOf(c.listingDetails.images[t]):0))):i.a.createElement("div",{className:r.previewImageContainer},i.a.createElement("img",{src:at,className:r.previewImageStyle,alt:"Placeholder"})))},ct=r(379),st=r.n(ct);function ut(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function mt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ut(Object(r),!0).forEach((function(t){pt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ut(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dt(e,t,r,a,n,i,o){try{var l=e[i](o),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(a,n)}var ft=(function(){var e,t=(e=regeneratorRuntime.mark((function e(t,r){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,st.a.post("".concat("#{API_BASE_URL}/files"),t,mt({},{headers:{Accept:"application/json","Content-Type":"application/json"}},{},r));case 3:if(200===(a=e.sent).status){e.next=6;break}return e.abrupt("return",null);case 6:return e.abrupt("return",a.data);case 9:throw e.prev=9,e.t0=e.catch(0),new Error("Error uploading image: ".concat(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})),function(){var t=this,r=arguments;return new Promise((function(a,n){var i=e.apply(t,r);function o(e){dt(i,a,n,o,l,"next",e)}function l(e){dt(i,a,n,o,l,"throw",e)}o(void 0)}))});return function(e,r){return t.apply(this,arguments)}})(),bt=r(143);function gt(e,t,r,a,n,i,o){try{var l=e[i](o),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(a,n)}function yt(e){return function(){var t=this,r=arguments;return new Promise((function(a,n){var i=e.apply(t,r);function o(e){gt(i,a,n,o,l,"next",e)}function l(e){gt(i,a,n,o,l,"throw",e)}o(void 0)}))}}var vt=function(e){return{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)}},ht=(function(){var e=yt(regeneratorRuntime.mark((function e(t){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!bt.a){e.next=11;break}return e.next=4,bt.a.getAccessToken();case 4:return r=e.sent,e.next=7,st.a.get("".concat("#{API_BASE_URL}/listings","/").concat(t),{headers:vt(r.accessToken)});case 7:return a=e.sent,e.abrupt("return",a.data);case 11:throw new Error("Unable to authenticate");case 12:e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(0),new Error("Unable to GetListingById");case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}})(),Ot=(function(){var e=yt(regeneratorRuntime.mark((function e(t){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,console.log(t.listingUri),!bt.a){e.next=12;break}return e.next=5,bt.a.getAccessToken();case 5:return r=e.sent,e.next=8,st.a.put("".concat("#{API_BASE_URL}/listings"),t,{headers:vt(r.accessToken)});case 8:return a=e.sent,e.abrupt("return",a.data);case 12:throw new Error("Unable to authenticate");case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(0),new Error("Unable to PutListing "+e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}})(),Et=(function(){var e=yt(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!bt.a){e.next=11;break}return e.next=4,bt.a.getAccessToken();case 4:return a=e.sent,e.next=7,st.a.patch("".concat("#{API_BASE_URL}","/").concat(t,"/images/add"),r,{headers:vt(a.accessToken)});case 7:return n=e.sent,e.abrupt("return",n.data);case 11:throw new Error("Unable to authenticate");case 12:e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(0),new Error("Unable to add image "+r.name);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,r){return e.apply(this,arguments)}})(),jt=(function(){var e=yt(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!bt.a){e.next=11;break}return e.next=4,bt.a.getAccessToken();case 4:return a=e.sent,e.next=7,st.a.patch("".concat("#{API_BASE_URL}","/").concat(t,"/images/remove"),r,{headers:vt(a.accessToken)});case 7:return n=e.sent,e.abrupt("return",n.data);case 11:throw new Error("Unable to authenticate");case 12:e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(0),new Error("Unable to Remove images from listing");case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,r){return e.apply(this,arguments)}})();function wt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function xt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wt(Object(r),!0).forEach((function(t){Pt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Pt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function St(e,t,r,a,n,i,o){try{var l=e[i](o),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(a,n)}function Dt(e){return function(){var t=this,r=arguments;return new Promise((function(a,n){var i=e.apply(t,r);function o(e){St(i,a,n,o,l,"next",e)}function l(e){St(i,a,n,o,l,"throw",e)}o(void 0)}))}}var Ct=(function(){var e=Dt(regeneratorRuntime.mark((function e(t,r){var a,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.next=3,jt(r,t);case 3:return n=e.sent,t.forEach((function(e){n.images.find((function(t){return t.uri===e}))||a.push(e)})),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}})(),kt=(function(){var e=Dt(regeneratorRuntime.mark((function e(t){var r,a,n,i,o,l,c=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.length>1&&void 0!==c[1]?c[1]:null,a=c.length>2?c[2]:void 0,t.file){e.next=4;break}return e.abrupt("return",null);case 4:return e.prev=4,(n=new FormData).append("details",JSON.stringify({})),n.append("file",t.file),i={signal:a.signal},e.next=11,ft(n,i);case 11:if(o=e.sent){e.next=14;break}return e.abrupt("return",xt({},t,{isUploaded:!1,isUploading:!1,error:!0}));case 14:if(!r){e.next=22;break}return(l=t).uri=o.location,e.next=19,Et(r,l);case 19:if(e.sent){e.next=22;break}return e.abrupt("return",xt({},t,{isUploaded:!1,isUploading:!1,error:!0}));case 22:return e.abrupt("return",xt({},t,{isUploaded:!0,isUploading:!1,error:!1,uri:o.location}));case 25:return e.prev=25,e.t0=e.catch(4),e.abrupt("return",xt({},t,{isUploaded:!1,isUploading:!1,error:!0}));case 28:case"end":return e.stop()}}),e,null,[[4,25]])})));return function(t){return e.apply(this,arguments)}})();function It(e){return (function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}})(e)||(function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)})(e)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance")})()}function Rt(e,t,r,a,n,i,o){try{var l=e[i](o),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(a,n)}function At(e){return function(){var t=this,r=arguments;return new Promise((function(a,n){var i=e.apply(t,r);function o(e){Rt(i,a,n,o,l,"next",e)}function l(e){Rt(i,a,n,o,l,"throw",e)}o(void 0)}))}}function Tt(e,t){return (function(e){if(Array.isArray(e))return e})(e)||(function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],a=!0,n=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(a=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);a=!0);}catch(e){n=!0,i=e}finally{try{a||null==l.return||l.return()}finally{if(n)throw i}}return r})(e,t)||(function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")})()}var Nt=ge.a[50],Ft=Object(u.a)((function(e){return{cardHeader:{textTransform:"uppercase"},mainImageStyleOuter:{display:"inline-flex",borderRadius:2,width:"70%",height:"30vh",alignItems:"center",justifyContent:"center"},containerStyle:{display:"flex",flexDirection:"row"},gridImageStyle:{display:"flex",flexWrap:"wrap",flexDirection:"row",width:"100%"},root:{marginTop:"1%",display:"flex",flexWrap:"wrap",overflow:"hidden"},gridList:{minHeight:200,maxHeight:300,overflowY:"auto"},icon:{color:"".concat(Object(be.c)(Nt,.54))},buttonClass:{backgroundColor:"".concat(Object(be.c)(Nt,0)),border:"2px solid #dadada",outline:"none",borderRadius:"7px",borderColor:"#9ecaed",marginLeft:"15px",marginRight:"15px"}}}));function Ht(e){var t=[],r=0,a=!0,n=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(a=(o=l.next()).done);a=!0){var c=o.value;if(r>4)break;!c||!c.file||c.uri&&c.isUploaded||(t.push(c),r++)}}catch(e){n=!0,i=e}finally{try{a||null==l.return||l.return()}finally{if(n)throw i}}return t}var Lt=function(){var e=Ft({}),t=Object(o.f)().id,r=Tt(Object(n.useState)(!1),2),a=r[0],c=r[1],u=Object(E.e)(),m=u.values,p=u.setFieldValue,d=Tt(Object(n.useState)([]),2),f=d[0],b=d[1],g=Tt(Object(n.useState)(m.listingDetails.images.length>0?0:null),2),y=g[0],v=g[1];Object(n.useEffect)((function(){var e=new AbortController;return (function(){var e=At(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==Ht(m.listingDetails.images).length){e.next=5;break}return t=m.listingDetails.images.filter((function(e){return!e.error})),p("listingDetails.images",t),e.abrupt("return");case 5:res.find((function(e){return null==e?void 0:e.error}))&&c(!0),p("listingDetails.images",res);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()(),function(){e.abort()}}),[m.listingDetails.images,m.listingUri,p]);var h=(function(){var e=At(regeneratorRuntime.mark((function e(r){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ct(r,t);case 2:a=e.sent,p("listingDetails.images",m.listingDetails.images.filter((function(e){return!a.includes(e.uri)})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})();return i.a.createElement(l.a,{item:!0,xs:12},i.a.createElement(j.a,null,i.a.createElement(K.a,{title:"Images",className:e.cardHeader}),i.a.createElement(Q.a,null,i.a.createElement(l.a,{container:!0,className:e.containerStyle,spacing:2},i.a.createElement(ye.a,{open:a,onClose:function(){return c(!1)},"aria-labelledby":"Error","aria-describedby":"Some Images could not be uploaded. Please try again!"},i.a.createElement(Ee.a,{id:"alert-dialog-title"},"Error"),i.a.createElement(he.a,null,i.a.createElement(Oe.a,{id:"alert-dialog-description"},"Some Images could not be uploaded. Please try again!")),i.a.createElement(ve.a,null,i.a.createElement(s.a,{onClick:function(){return c(!1)},color:"primary"},"OK"))),i.a.createElement(lt,{currentSelectedImageIndex:y}),i.a.createElement(l.a,{item:!0,xs:12,md:6},i.a.createElement(l.a,{container:!0,spacing:2},i.a.createElement(l.a,{item:!0,xs:12},i.a.createElement(et,{handleOnDrop:function(e){var t=e.map((function(e){var t=e.name+e.size;return m.listingDetails.images&&m.listingDetails.images.find((function(e){return e.id===t}))?null:{uri:"",id:t,isPrimary:!1,caption:"",preview:URL.createObjectURL(e),name:e.name,fileSize:e.size,isUploading:!0,isUploaded:!1,file:e,error:!1}})).filter(Boolean);p("listingDetails.images",[].concat(It(m.listingDetails.images),It(t))),v(0)},multipleFiles:!0,name:"IMAGES",fileTypes:["image/jpeg","image/jpg","image/png"]})),i.a.createElement(l.a,{item:!0,xs:12},i.a.createElement(fe.a,{spacing:10,cols:3,cellHeight:90,className:e.gridList},m.listingDetails.images.map((function(e,t){var r=t===y,a=f.includes(e.uri);return i.a.createElement($e,{i:t,cols:1,key:t,onCurrentImageClick:function(){v(t)},handleToggleFromGroupSelect:function(){var t,r;t=e.uri,r=f.find((function(e){return e===t})),b(r?f.filter((function(e){return e!==t})):[].concat(It(f),[t]))},isSelected:r,isGroupSelected:a,image:e})})))),i.a.createElement(l.a,{item:!0,xs:12},i.a.createElement("div",null,i.a.createElement(s.a,{className:e.buttonClass},"Select All"),i.a.createElement(s.a,{disabled:0===f.length,className:e.buttonClass,onClick:function(){h(f)}},"Delete")))))))))},Bt=(r(347),r(526)),Mt=r(392),Ut=r.n(Mt),Wt=r(510),Gt=r(533),zt=r(527),Vt=r(538);function Yt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function _t(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $t(e,t){return (function(e){if(Array.isArray(e))return e})(e)||(function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],a=!0,n=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(a=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);a=!0);}catch(e){n=!0,i=e}finally{try{a||null==l.return||l.return()}finally{if(n)throw i}}return r})(e,t)||(function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")})()}function qt(e,t){if(null==e)return{};var r,a,n=(function(e,t){if(null==e)return{};var r,a,n={},i=Object.keys(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||(n[r]=e[r]);return n})(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Kt(e,t){var r=e.name,a=qt(e,["name"]),n=Object(E.d)(r);return (function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Yt(Object(r),!0).forEach((function(t){_t(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e})({},$t(n,1)[0],{},a,{},null==t?void 0:t(n))}function Qt(e){return n.createElement(Vt.a,Kt(e))}r(389);function Jt(){return(Jt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function Xt(e,t){if(null==e)return{};var r,a,n=(function(e,t){if(null==e)return{};var r,a,n={},i=Object.keys(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||(n[r]=e[r]);return n})(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var Zt,er=function(e){var t=e.children,r=e.value,a=e.index,n=e.name,o=Xt(e,["children","value","index","name"]);return i.a.createElement("div",Jt({role:"tabpanel",hidden:r!==a,id:"".concat(n,"-tabpanel-").concat(a),"aria-labelledby":"".concat(n,"-tab-").concat(a)},o),r===a&&i.a.createElement("div",null,t))},tr=r(524),rr=Object(u.a)((function(e){return{flexGrid:{display:"flex"}}})),ar=function(e){var t=e.direction,r=e.name,n=e.unit,o=rr({}).flexGrid,c=n===a.IMPERIAL?"ft":"m",s=n===a.IMPERIAL?"in":"cm";return i.a.createElement(l.a,{container:!0,spacing:2},i.a.createElement(l.a,{item:!0,xs:6,className:o},i.a.createElement(ne,{name:"".concat(r,".").concat(t,".main"),label:"".concat(t,"-").concat(c),InputProps:{endAdornment:i.a.createElement(tr.a,{position:"end"},c)},"data-testid":"width-main"})),i.a.createElement(l.a,{item:!0,xs:6,className:o},i.a.createElement(ne,{name:"".concat(r,".").concat(t,".sub"),label:"".concat(t,"-").concat(s),InputProps:{endAdornment:i.a.createElement(tr.a,{position:"end"},s)},"data-testid":"width-sub"})))};!(function(e){e.WIDTH="width",e.LENGTH="length"})(Zt||(Zt={}));var nr=Object(u.a)((function(e){return{title:{textTransform:"uppercase"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},tabWrapper:{flexDirection:"row-reverse","&> *:first-child":{marginBottom:"0!important",marginLeft:e.spacing(1)}},TabPanelRoot:{padding:e.spacing(4,2)},RadioGroupRoot:{flexDirection:"row"}}})),ir=function(e){var t=e.tabValue,r=nr({}).TabPanelRoot,a=Object(E.e)();return i.a.createElement(i.a.Fragment,null,a.values.listingDetails.descriptions.rooms.map((function(e,n){var o=""!==e.title?e.title:"Room ".concat(n+1);return i.a.createElement(er,{className:r,key:e.id,name:o.replace(" ","-"),value:t,index:e.id},i.a.createElement(l.a,{container:!0,spacing:3},i.a.createElement(l.a,{item:!0,xs:12,md:6},i.a.createElement(ne,{fullWidth:!0,label:"Name of room",name:"listingDetails.descriptions.rooms[".concat(n,"].title"),placeholder:"Room 1",InputLabelProps:{shrink:!0}})),i.a.createElement(l.a,{item:!0,xs:12,md:6},i.a.createElement(l.a,{container:!0,spacing:2},i.a.createElement(l.a,{item:!0,xs:6},i.a.createElement(ar,{direction:Zt.WIDTH,name:"listingDetails.descriptions.rooms[".concat(n,"].measurements"),unit:a.values.listingDetails.descriptions.measurementUnit})),i.a.createElement(l.a,{item:!0,xs:6},i.a.createElement(ar,{direction:Zt.LENGTH,name:"listingDetails.descriptions.rooms[".concat(n,"].measurements"),unit:a.values.listingDetails.descriptions.measurementUnit})))),i.a.createElement(l.a,{item:!0,xs:12},i.a.createElement(ne,{disabled:a.isSubmitting,multiline:!0,rows:10,fullWidth:!0,label:"".concat(o," description"),spellCheck:"true","aria-label":"".concat(o," description"),name:"listingDetails.descriptions.rooms[".concat(n,"].description"),placeholder:"Add details about the room..."})),i.a.createElement(l.a,{item:!0,xs:12},i.a.createElement(s.a,{color:"primary",variant:"contained",onClick:function(){return e=o,void console.log("".concat(e," description was saved"));var e}},"Save changes to this description"))))})))},or=(r(463),r(464),r(466)),lr=r.n(or),cr=r(525),sr=r(391),ur=r.n(sr),mr=r(475),pr=r.n(mr),dr=function(e){var t=e.onClose,r=e.isOpen,a=e.removeRoom,n=e.roomTitle,o=e.roomId;return i.a.createElement(ye.a,{open:r,onClose:t,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},i.a.createElement(Ee.a,{id:"alert-dialog-title"},"'WARNING'"),i.a.createElement(he.a,null,i.a.createElement(Oe.a,{id:"alert-dialog-description"},"Are you sure you want to delete"," ",i.a.createElement("i",null,i.a.createElement("b",null,n)))),i.a.createElement(ve.a,null,i.a.createElement(s.a,{onClick:function(){return a(o),void t()},color:"primary"},"Yes"),i.a.createElement(s.a,{onClick:t,color:"primary"},"No")))},fr=(r(390),r(469),r(473)),br=r(474),gr=r(531);function yr(e){return (function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}})(e)||(function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)})(e)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance")})()}function vr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function hr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Or(e){return (function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}})(e)||(function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)})(e)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance")})()}function Er(e,t){return (function(e){if(Array.isArray(e))return e})(e)||(function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],a=!0,n=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(a=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);a=!0);}catch(e){n=!0,i=e}finally{try{a||null==l.return||l.return()}finally{if(n)throw i}}return r})(e,t)||(function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")})()}function jr(e,t){if(null==e)return{};var r,a,n=(function(e,t){if(null==e)return{};var r,a,n={},i=Object.keys(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||(n[r]=e[r]);return n})(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var wr=Object(n.forwardRef)((function(e,t){var r=e.childWidth,a=e.children,o=e.appendComponent,l=e.shadow,c=void 0===l?5:l,s=e.setValue,u=e.onOrderChange,m=e.order,p=void 0===m?[]:m,d=jr(e,["childWidth","children","appendComponent","shadow","setValue","onOrderChange","order"]),f=Object(n.useRef)(p||n.Children.map(a,(function(e,t){return t}))),b=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;return function(o){return t&&o===a?{x:Number(n)*Number(r)+Number(i),scale:1,zIndex:"1",shadow:c,immediate:Boolean((function(e){return"x"===e||"zIndex"===e}))}:{x:e.indexOf(o)*Number(r),scale:1,zIndex:"0",shadow:0,immediate:!1}}},g=n.Children.count(a),y=Er(Object(fr.c)(g,b(f.current)),2),v=y[0],h=y[1];Object(n.useImperativeHandle)(t,(function(){return{addTab:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f.current.length;f.current=[].concat(Or(f.current.slice(0,e)),[e],Or(f.current.slice(e))),u&&u(f.current)},removeTab:function(e){var t=f.current.indexOf(e);f.current=[].concat(Or(f.current.slice(0,t)),Or(f.current.slice(t+1))).map((function(t){return t<e?t:t-1})),u&&u(f.current)}}}));var O=Object(br.a)({onDrag:function(e){var t,a,n,i,o=Er(e.args,1)[0],l=e.down,c=Er(e.movement,1)[0],s=null==f?void 0:null===(t=f.current)||void 0===t?void 0:t.indexOf(o),m=a=(a=(a=Math.round((Number(s)*r+c)/r))<=(i=g-1)?a:i)>=(n=0)?a:n,p=(function(e,t,r){var a=e[t],n=e.length,i=t-r;if(i>0)return[].concat(yr(e.slice(0,r)),[a],yr(e.slice(r,t)),yr(e.slice(t+1,n)));if(i<0){var o=r+1;return[].concat(yr(e.slice(0,t)),yr(e.slice(t+1,o)),[a],yr(e.slice(o,n)))}return e})(f.current||[],Number(s),m);h(b(p,l,o,s,c)),l||(f.current=p,u&&u(f.current))}});return i.a.createElement(gr.a,d,v.map((function(e,t){var i=e.zIndex,o=e.shadow,l=e.x,c=e.scale;return a&&a[t]?Object(n.cloneElement)(a[t],(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vr(Object(r),!0).forEach((function(t){hr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e})({},O(t),{component:fr.a.div,onMouseDownCapture:function(){s(a[t].props.value)},key:t,style:{marginLeft:t?"-".concat(r,"px"):"0px",zIndex:i,boxShadow:o.interpolate((function(e){return"rgba(0, 0, 0, 0.15) 0px ".concat(e,"px ").concat(2*e,"px 0px")})),transform:Object(fr.b)([l,c],(function(e,t){return"translate3d(".concat(e,"px, 0, 0) scale(").concat(t,")")}))}})):null})),o&&Object(n.cloneElement)(o,{style:{marginLeft:"".concat(Math.max(r*(n.Children.count(a)-1),0),"px")}}))}));function xr(){return(xr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function Pr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Sr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dr(e,t){return (function(e){if(Array.isArray(e))return e})(e)||(function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],a=!0,n=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(a=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);a=!0);}catch(e){n=!0,i=e}finally{try{a||null==l.return||l.return()}finally{if(n)throw i}}return r})(e,t)||(function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")})()}function Cr(e){return (function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}})(e)||(function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)})(e)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance")})()}var kr="listingDetails.descriptions.rooms",Ir=Object(u.a)((function(e){return{tabsRoot:{borderBottom:"1px solid ".concat(e.palette.grey[200])},tabsIndicator:{display:"none"},tabLabel:{flexGrow:1},tabRoot:{background:e.palette.background.paper,width:200},tabWrapper:{"flex-direction":"row-reverse","&> *:first-child":{marginBottom:"0!important",marginLeft:e.spacing(1)}},tabSelected:{borderBottom:"3px solid ".concat(e.palette.primary.main)}}})),Rr=function(e){return Cr(e).sort((function(e,t){return e.displayOrder-t.displayOrder})).map((function(t){return e.findIndex((function(e){return e.id===t.id}))}))},Ar=function(e,t){return{id:e,title:"New room",measurements:{width:{main:0,sub:0},length:{main:0,sub:0}},description:"",displayOrder:t}},Tr=function(e){var t,r,a=e.tabValue,o=e.setTabValue,l=Ir({}),c=l.tabsRoot,s=l.tabRoot,u=l.tabLabel,m=l.tabsIndicator,p=l.tabWrapper,d=l.tabSelected,f=Object(n.useRef)(),b=Dr(Object(n.useState)(""),2),g=b[0],y=b[1],h=Object(E.e)(),O=Dr(Object(n.useState)((function(){return Rr(h.values.listingDetails.descriptions.rooms)})),2),j=O[0],w=O[1],x=h.values.listingDetails.descriptions.rooms,P=Dr(Object(n.useState)(!1),2),S=P[0],D=P[1],C=function(e){y(e),D(!S)};return i.a.createElement(i.a.Fragment,null,S&&i.a.createElement(dr,{isOpen:S,onClose:function(){D(!1)},roomId:g,removeRoom:function(e){var t=x.filter((function(t){return t.id!==e})),r=x.findIndex((function(t){return t.id===e})),a=j.indexOf(r)-1,n=j[a>=0?a:1]||0;w(Rr(t)),h.setFieldValue(kr,t),f.current&&f.current.removeTab(r),o(x[n].id)},roomTitle:null!==(t=null===(r=h.values.listingDetails.descriptions.rooms.find((function(e){return e.id===g})))||void 0===r?void 0:r.title)&&void 0!==t?t:""}),i.a.createElement(wr,{className:c,value:a,ref:f,childWidth:200,setValue:o,onOrderChange:function(e){if(e.length===x.length){var t=x.map((function(t,r){return (function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pr(Object(r),!0).forEach((function(t){Sr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e})({},t,{displayOrder:e.indexOf(r)})}));h.setFieldValue(kr,t),w(e)}},order:j,appendComponent:i.a.createElement(cr.a,{classes:{wrapper:p,selected:d},label:i.a.createElement(v.a,{className:u,noWrap:!0,variant:"button",color:"primary"},"Add New"),value:"add",icon:i.a.createElement(pr.a,{color:"primary"}),onClick:function(){var e=lr()(),t=[].concat(Cr(x),[Ar(e,x.reduce((function(e,t){return e<t.displayOrder?t.displayOrder+1:e}),0))]);o(e),w(Rr(t)),h.setFieldValue(kr,t),f.current&&f.current.addTab()}}),classes:{indicator:m},onChange:function(e,t){o(t)},"aria-label":"Property description sections",scrollButtons:"auto",indicatorColor:"primary",textColor:"primary",variant:"scrollable"},x.map((function(e,t){var r=""!==e.title?e.title:"Room ".concat(t+1),a={label:i.a.createElement(v.a,{className:u,noWrap:!0,variant:"button"},r),id:"".concat(r.replace(" ","-"),"-tab-").concat(t),"aria-controls":"".concat(r,"-tabpanel-").concat(t)};return i.a.createElement(cr.a,xr({classes:{root:s,wrapper:p,selected:d},"data-testid":"room-tab",component:"div",key:e.id,value:e.id,icon:x.length>0?i.a.createElement(Re.a,{"aria-label":"Delete ".concat(r," tab"),onClick:function(t){C(e.id),t.stopPropagation()}},i.a.createElement(ur.a,null)):void 0,onKeyDownCapture:function(t){return (function(e,t){e.stopPropagation(),("Backspace"===e.key||"Delete"===e.key)&&C(t)})(t,e.id)}},a))}))))};function Nr(e){return (function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}})(e)||(function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)})(e)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance")})()}function Fr(e,t){return (function(e){if(Array.isArray(e))return e})(e)||(function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],a=!0,n=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(a=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);a=!0);}catch(e){n=!0,i=e}finally{try{a||null==l.return||l.return()}finally{if(n)throw i}}return r})(e,t)||(function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")})()}var Hr=Object(u.a)((function(e){return{title:{textTransform:"uppercase"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},tabWrapper:{"flex-direction":"row-reverse","&> *:first-child":{marginBottom:"0!important"}},RadioGroupRoot:{margin:e.spacing(4,0,3),flexDirection:"row"}}})),Lr=function(){var e=Hr({}),t=e.title,r=e.expand,o=e.expandOpen,c=e.RadioGroupRoot,s=Object(E.e)(),u=Fr(Object(n.useState)(!0),2),m=u[0],p=u[1],d=Fr(Object(n.useState)((function(){var e;return(null===(e=Nr(s.values.listingDetails.descriptions.rooms).sort((function(e,t){return e.displayOrder-t.displayOrder}))[0])||void 0===e?void 0:e.id)||"add"})),2),f=d[0],b=d[1];return i.a.createElement(j.a,null,i.a.createElement(K.a,{title:"Description",className:t,action:i.a.createElement(Re.a,{className:m?"".concat(r," ").concat(o):r,"aria-expanded":m,"aria-label":m?"show less":"show more",onClick:function(){p(!m)}},i.a.createElement(Ut.a,null))}),i.a.createElement(Q.a,null,i.a.createElement(Bt.a,{in:m},i.a.createElement(l.a,{container:!0},i.a.createElement(l.a,{item:!0,xs:12},i.a.createElement(ne,{label:"General Summary",multiline:!0,rows:10,disabled:s.isSubmitting,fullWidth:!0,spellCheck:"true","aria-label":"property summary",name:"listingDetails.descriptions.summary",placeholder:"Add general details about the property..."})),i.a.createElement(l.a,{item:!0,xs:12},i.a.createElement(Wt.a,{component:"fieldset"},i.a.createElement(Qt,{"aria-label":"units",name:"listingDetails.descriptions.measurementUnit",classes:{root:c}},i.a.createElement(zt.a,{value:a.METRIC,control:i.a.createElement(Gt.a,null),label:"Metric measurements",labelPlacement:"start"}),i.a.createElement(zt.a,{value:a.IMPERIAL,control:i.a.createElement(Gt.a,null),label:"Imperial measurements",labelPlacement:"start"}))))),i.a.createElement(Tr,{tabValue:f,setTabValue:b}),i.a.createElement(ir,{tabValue:f}))))},Br=r(534);function Mr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Ur(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wr(e,t){return (function(e){if(Array.isArray(e))return e})(e)||(function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],a=!0,n=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(a=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);a=!0);}catch(e){n=!0,i=e}finally{try{a||null==l.return||l.return()}finally{if(n)throw i}}return r})(e,t)||(function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")})()}function Gr(e,t){if(null==e)return{};var r,a,n=(function(e,t){if(null==e)return{};var r,a,n={},i=Object.keys(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||(n[r]=e[r]);return n})(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function zr(e,t){var r=e.disabled,a=e.name,n=Gr(e,["disabled","name"]),i=Object(E.e)().isSubmitting,o=Object(E.d)(a),l=Wr(o,1)[0];return (function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Mr(Object(r),!0).forEach((function(t){Ur(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e})({disabled:null!=r?r:i},n,{},l,{checked:l.value,value:l.value?"checked":""},null==t?void 0:t(o))}function Vr(e){return n.createElement(Br.a,zr(e))}var Yr=Object(u.a)((function(e){return{title:{textTransform:"uppercase"}}})),_r=function(){var e=Yr({}).title,t=Object(E.e)().values;return i.a.createElement(j.a,null,i.a.createElement(K.a,{title:"Checklist",className:e}),i.a.createElement(Q.a,null,i.a.createElement(l.a,{container:!0,spacing:3},i.a.createElement(l.a,{item:!0,xs:12},i.a.createElement(zt.a,{label:"I confirm I have seen photo ID and a current utility bill for the customer",control:i.a.createElement(Vr,{required:!0,name:"listingDetails.compliance.confirmedId"})})),i.a.createElement(l.a,{item:!0,xs:12},i.a.createElement(zt.a,{label:"Advanced marketing pack sent to customer",control:i.a.createElement(Vr,{required:!0,name:"listingDetails.sentAdvancedMarketingPack"})})),i.a.createElement(l.a,{item:!0,xs:12},i.a.createElement(zt.a,{label:"Agent has keys for property",control:i.a.createElement(Vr,{required:!0,name:"listingDetails.agencyHasKeys"})})),t.listingDetails.agencyHasKeys&&i.a.createElement(l.a,{item:!0,xs:4,sm:6,md:6},i.a.createElement(ne,{fullWidth:!0,label:"Reference number for keys (if any)",name:"listingDetails.agencyKeysRef",placeholder:"12345456",InputLabelProps:{shrink:!0}})))))},$r=r(539),qr=r(509),Kr=r(476),Qr=r.n(Kr),Jr=r(477),Xr=r.n(Jr);function Zr(){return(Zr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function ea(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function ta(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ea(Object(r),!0).forEach((function(t){ra(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ea(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ra(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aa(e,t){return (function(e){if(Array.isArray(e))return e})(e)||(function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],a=!0,n=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(a=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);a=!0);}catch(e){n=!0,i=e}finally{try{a||null==l.return||l.return()}finally{if(n)throw i}}return r})(e,t)||(function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")})()}function na(e,t){if(null==e)return{};var r,a,n=(function(e,t){if(null==e)return{};var r,a,n={},i=Object.keys(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||(n[r]=e[r]);return n})(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var ia=Object(u.a)((function(e){return{chip:{},chipLabel:{display:"flex",alignItems:"center",justifyContent:"center"},input:{fontSize:"inherit"},iconButtonLabel:{height:0,color:e.palette.action.disabled,"&:hover":{color:e.palette.action.active}},editIcon:{flexShrink:1}}})),oa=function(e){var t,r=e.value,a=e.onEdit,o=e.name,l=e.InputProps,c=e.inputProps,s=na(e,["value","onEdit","name","InputProps","inputProps"]),u=Object(n.useRef)(null),m=ia({}),p=aa(Object(n.useState)(!1),2),d=p[0],f=p[1],b=aa(Object(n.useState)(r||""),2),g=b[0],y=b[1];Object(n.useEffect)((function(){d&&u.current&&u.current.focus()}),[d]);return i.a.createElement($r.a,Zr({},s,{classes:ta({},s.classes,{label:Object(je.a)(null===(t=s.classes)||void 0===t?void 0:t.label,m.chipLabel)}),avatar:i.a.createElement(Re.a,{classes:{label:m.iconButtonLabel},edge:"start",size:"small",onClick:function(){return f(!d)}},d?i.a.createElement(Qr.a,{className:m.editIcon}):i.a.createElement(Xr.a,{className:m.editIcon})),variant:d?"outlined":"default",label:i.a.createElement(qr.a,Zr({id:o,name:o,inputRef:u,className:m.input,disabled:!d,disableUnderline:!0,onChange:function(e){var t=e.target.value;y(t),a&&a(e,t)},onDoubleClick:function(){return f(!0)},onKeyPress:function(e){"Enter"===e.key&&f(!1)},onBlur:function(){f(!1)},value:g,inputProps:ta({size:Math.max(g.length,5)},c)},l))}))};function la(e){return (function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}})(e)||(function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)})(e)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance")})()}function ca(e,t){return (function(e){if(Array.isArray(e))return e})(e)||(function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],a=!0,n=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(a=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);a=!0);}catch(e){n=!0,i=e}finally{try{a||null==l.return||l.return()}finally{if(n)throw i}}return r})(e,t)||(function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")})()}var sa=Object(w.a)((function(e){return{chip:{margin:e.spacing(.5)},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},keyFeaturesWarningMessage:{background:"".concat(Ie.a[100]),color:"".concat(Ie.a[600])},expandOpen:{transform:"rotate(180deg)"}}})),ua=Object(I.e)().max(100),ma=function(){var e,t=sa({}),r=ca(Object(n.useState)(!0),2),a=r[0],o=r[1],c=Object(E.e)(),s=c.values,u=c.setFieldValue,m=ca(Object(n.useState)({value:"",error:null}),2),p=m[0],d=m[1];return i.a.createElement(j.a,null,i.a.createElement(K.a,{title:"Key Features",action:i.a.createElement(Re.a,{className:a?"".concat(t.expand," ").concat(t.expandOpen):t.expand,"aria-expanded":a,"aria-label":a?"show less":"show more",onClick:function(){o(!a)}},i.a.createElement(Ut.a,null))}),i.a.createElement(Q.a,null,i.a.createElement(Bt.a,{in:a},i.a.createElement(l.a,{"aria-label":"Add new feature area",container:!0,spacing:4},i.a.createElement(l.a,{item:!0,xs:12},i.a.createElement(ue.a,{severity:"info"},"Only the first 10 features will display in an online advert!")),i.a.createElement(l.a,{item:!0,xs:12},i.a.createElement(l.a,{container:!0,spacing:3},i.a.createElement(l.a,{item:!0,xs:12},i.a.createElement(v.a,{variant:"h5"},"Add features")),i.a.createElement(l.a,{item:!0,xs:12},i.a.createElement(X.a,{error:!!p.error,helperText:null===(e=p.error)||void 0===e?void 0:e.errors[0],variant:"outlined",label:"Feature",value:p.value,onKeyPress:function(e){!(function(e){if("Enter"===e.key&&p.value.length>0){var t={order:s.listingDetails.keyFeatures.length,feature:p.value};u("listingDetails.keyFeatures",[].concat(la(s.listingDetails.keyFeatures),[t])),d({value:"",error:null})}})(e)},onChange:function(e){!(function(e){try{ua.validateSync(e),d({value:e,error:null})}catch(t){d({value:e,error:t})}})(e.target.value)},id:"new-feature-field",placeholder:"Add a feature"})),i.a.createElement(l.a,{item:!0,xs:12},s.listingDetails.keyFeatures.sort((function(e,t){return e.order-t.order})).map((function(e,r){return i.a.createElement(oa,{key:r,name:"listingDetails.keyFeatures[".concat(r,"]"),"data-testid":"feature ".concat(r),value:e.feature,onDelete:function(){u("listingDetails.keyFeatures",s.listingDetails.keyFeatures.filter((function(t){return t.feature!==e.feature})))},className:t.chip})})))))))))},pa=r(484),da=r(311),fa=r(399),ba=r.n(fa),ga=r(402),ya=r(529);function va(){return(va=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function ha(e,t){if(null==e)return{};var r,a,n=(function(e,t){if(null==e)return{};var r,a,n={},i=Object.keys(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||(n[r]=e[r]);return n})(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var Oa=function(e){var t=e.field,r=e.form,a=ha(e,["field","form"]);return i.a.createElement(ya.a,va({autoOk:!0,name:t.name,value:t.value,keyboardIcon:i.a.createElement(ba.a,{"data-testid":"open-calendar-icon ".concat(t.name)}),onChange:function(e){return r.setFieldValue(t.name,e)}},a))},Ea=Object(u.a)((function(e){return{title:{textTransform:"uppercase"},warningMessagePadding:{paddingTop:e.spacing(5)}}})),ja=function(){var e=Ea({}),t=Object(E.e)().values,r=!!t.listingDetails.compliance.competitorAgreementExpiry;return i.a.createElement(da.a,{utils:pa.a},i.a.createElement(j.a,null,i.a.createElement(K.a,{title:"Compliance",className:e.title}),i.a.createElement(Q.a,null,i.a.createElement(l.a,{container:!0,spacing:5},i.a.createElement(l.a,{item:!0,xs:12},i.a.createElement(zt.a,{label:"I have seen the Land Registry confirmation that confirms this customer is the owner of the property",control:i.a.createElement(Vr,{required:!0,name:"listingDetails.compliance.confirmedLandRegistryOwnership"})})),i.a.createElement(l.a,{item:!0,xs:12,md:6},i.a.createElement(ne,{label:"Link to Land Registry documents",name:"listingDetails.compliance.landRegistryDocsUri",placeholder:"https://landregistry.data.gov.uk/",fullWidth:!0})),i.a.createElement(l.a,{item:!0,xs:12},i.a.createElement(l.a,{container:!0,spacing:5},i.a.createElement(l.a,{item:!0,xs:12,md:4},i.a.createElement(l.a,{container:!0,spacing:2},i.a.createElement(l.a,{item:!0,xs:12},i.a.createElement(v.a,null,"Agency Agreement Date")),i.a.createElement(l.a,{item:!0,xs:12},i.a.createElement(X.a,{variant:"outlined",fullWidth:!0,disabled:!0,label:"Agreement Date",InputProps:{startAdornment:i.a.createElement(tr.a,{position:"start"},i.a.createElement(ba.a,null))},id:"agreement-period",value:"".concat(Object(ga.a)(new Date(t.listingDetails.compliance.agencyAgreementSignedDate),"dd/MM/yyyy")),placeholder:"DD/MM/YYYY"})))),i.a.createElement(l.a,{item:!0,xs:12,md:4},i.a.createElement(l.a,{container:!0,spacing:2},i.a.createElement(l.a,{item:!0,xs:12},i.a.createElement(v.a,null,"Agreement Period")),i.a.createElement(l.a,{item:!0,xs:12},i.a.createElement(X.a,{disabled:!0,fullWidth:!0,id:"Period",label:"Period",value:"".concat(t.listingDetails.compliance.agencyAgreementPeriod," Weeks"),variant:"outlined"})))),i.a.createElement(l.a,{item:!0,xs:12,md:4},i.a.createElement(l.a,{container:!0,spacing:2},i.a.createElement(l.a,{item:!0,xs:12},i.a.createElement(v.a,null,"Agreement Expiry Date")),i.a.createElement(l.a,{item:!0,xs:12},i.a.createElement(E.a,{fullWidth:!0,label:"Agreement Expires on",format:"dd/MM/yyyy",id:"competitor-expiry-date",name:"listingDetails.compliance.competitorAgreementExpiry",component:Oa,variant:"inline",inputVariant:"outlined",placeholder:"DD/MM/YYYY",minDate:new Date,disablePast:!0,InputAdornmentProps:{position:"start"}}))))))),i.a.createElement(l.a,{className:e.warningMessagePadding,item:!0,xs:12},r&&i.a.createElement(ue.a,{severity:"warning"},"Placeholder message for agent to warn customer of contract breach")))))},wa=Object(u.a)((function(e){return{title:{textTransform:"uppercase"},viewingOption:{textTransform:"capitalize"},radioGroupRoot:{"flex-direction":"row"},radioGroupTypograpghyStyle:{padding:e.spacing(1)}}})),xa=["accompanied","combined","unaccompanied"],Pa=function(){var e=wa({}),t=Object(E.e)(),r=t.values,a=t.setFieldValue;return i.a.createElement(j.a,null,i.a.createElement(K.a,{title:"Viewing Rules",className:e.title}),i.a.createElement(Q.a,null,i.a.createElement(l.a,{container:!0,spacing:4},i.a.createElement(l.a,{item:!0,xs:12},i.a.createElement(l.a,{container:!0,spacing:3},i.a.createElement(l.a,{item:!0,xs:12,md:4},i.a.createElement(v.a,{className:e.radioGroupTypograpghyStyle},"Same day viewing appointments allowed")),i.a.createElement(l.a,{item:!0,xs:12,md:2},i.a.createElement(Vt.a,{"aria-label":"same-day-confirmation-radio-group",value:!0===r.listingDetails.viewingRules.sameDay?"Yes":"No",row:!0,onChange:function(e,t){a("listingDetails.viewingRules.sameDay","Yes"===t)}},i.a.createElement(zt.a,{value:"Yes",control:i.a.createElement(Gt.a,{color:"primary"}),label:"Yes",labelPlacement:"start"}),i.a.createElement(zt.a,{value:"No",control:i.a.createElement(Gt.a,{color:"primary"}),label:"No",labelPlacement:"start"}))))),i.a.createElement(l.a,{item:!0,xs:12,md:6},i.a.createElement(ne,{className:e.viewingOption,label:"Type of viewing appointments",name:"listingDetails.viewingRules.type",fullWidth:!0,select:!0,variant:"outlined",onChange:function(e){"unaccompanied"===e.target.value&&a("listingDetails.viewingRules.autoConfirm",!1),a("listingDetails.viewingRules.type",e.target.value)}},xa.map((function(t){return i.a.createElement(J.a,{className:e.viewingOption,key:t,value:t},t)})))),i.a.createElement(l.a,{item:!0,xs:12},i.a.createElement(l.a,{container:!0,alignItems:"center"},i.a.createElement(l.a,{item:!0},"Auto-confirm viewing appointments?"),i.a.createElement(l.a,{item:!0},i.a.createElement(Vt.a,{"aria-label":"Auto confirm viewing appointments",name:"listingDetails.viewingRules.autoConfirm",classes:{root:e.radioGroupRoot},value:r.listingDetails.viewingRules.autoConfirm?"Yes":"No",onChange:function(e){a("listingDetails.viewingRules.autoConfirm","Yes"===e.target.value)}},i.a.createElement(zt.a,{value:"Yes",control:i.a.createElement(Gt.a,null),label:"Yes",labelPlacement:"start",disabled:"unaccompanied"===r.listingDetails.viewingRules.type}),i.a.createElement(zt.a,{value:"No",control:i.a.createElement(Gt.a,null),label:"No",labelPlacement:"start",disabled:"unaccompanied"===r.listingDetails.viewingRules.type}))))))))},Sa=r(478),Da=r.n(Sa),Ca=xe.a[400],ka=Object(u.a)((function(e){return{root:{marginTop:e.spacing(6),display:"block",overflow:"hidden",position:"relative",borderWidth:2,borderRadius:"2px",borderStyle:"solid",borderColor:Ca},img:{maxWidth:"100%",maxHeight:"100%"},imgOverlay:{position:"absolute",left:0,top:0,width:"100%",height:"100%",opacity:1,zIndex:2,backgroundColor:"".concat(Object(be.c)(Ca,.8)),display:"flex",alignItems:"center",justifyContent:"center"},imageContainer:{position:"relative"},deleteButton:{position:"absolute",right:"-26px",top:"-26px",zIndex:4}}})),Ia=i.a.forwardRef((function(e,t){var r=ka({});return e.image.uri||e.image.preview?i.a.createElement("div",null,i.a.createElement("div",{className:Object(je.a)(r.imageContainer)},i.a.createElement("div",{className:Object(je.a)(r.root)},i.a.createElement("img",{src:e.image.preview||"".concat("#{API_BASE_URL}/files","/").concat(e.image.uri),alt:e.image.name||"something went wrong","data-testid":"preview-image",ref:t,className:r.img}),e.image.isUploading&&i.a.createElement("div",{className:r.imgOverlay},i.a.createElement(p.a,{"data-testid":"thumb-spinner"}))),i.a.createElement(Re.a,{className:r.deleteButton,color:"primary","aria-label":"delete image",onClick:e.handleDeleteImage},i.a.createElement(Da.a,{fontSize:"large","data-testid":"delete-icon"}))),i.a.createElement("span",null,e.image.name)):null}));Ia.muiName="Image";var Ra=function(e){var t=Object.assign({},e);return i.a.createElement(Ia,t)};function Aa(e,t,r,a,n,i,o){try{var l=e[i](o),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(a,n)}var Ta=Object(u.a)((function(e){return{root:{padding:"2px"},mediaLabel:{fontWeight:"bold",marginBottom:e.spacing(1)},warningMessagePadding:{paddingTop:e.spacing(5)}}})),Na=function(){var e=Ta({}),t=Object(E.e)(),r=t.values,a=t.setFieldValue,o="listingDetails.floorPlan.image";Object(n.useEffect)((function(){var e=new AbortController;return (function(){var t,n=(t=regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=r.listingDetails.floorPlan.image)||n.uri||!n.isUploading){t.next=6;break}return t.next=4,kt(r.listingDetails.floorPlan.image,null,e);case 4:i=t.sent,a(o,i);case 6:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(a,n){var i=t.apply(e,r);function o(e){Aa(i,a,n,o,l,"next",e)}function l(e){Aa(i,a,n,o,l,"throw",e)}o(void 0)}))});return function(){return n.apply(this,arguments)}})()(),function(){e.abort()}}),[r.listingDetails.floorPlan.image,a]);return i.a.createElement(j.a,null,i.a.createElement(K.a,{title:"OTHER MEDIA"}),i.a.createElement(Q.a,null,i.a.createElement(l.a,{container:!0,spacing:3},i.a.createElement(l.a,{item:!0,xs:12,md:6},i.a.createElement(v.a,{className:e.mediaLabel},"Embed a 360° tour"),i.a.createElement(ne,{name:"listingDetails.tour",placeholder:"e.g. https://my.matterport.com/show/?m=1234567890",variant:"outlined",fullWidth:!0})),i.a.createElement(l.a,{item:!0,xs:12,md:6},i.a.createElement(v.a,{className:e.mediaLabel},"Embed an audio tour"),i.a.createElement(ne,{name:"listingDetails.video",placeholder:"e.g. https://www.vimeo.com/yourtour-123456",variant:"outlined",fullWidth:!0})),i.a.createElement(l.a,{item:!0,xs:12,md:6},i.a.createElement(v.a,{className:e.mediaLabel},"Metropix Floorplan Code"),i.a.createElement(ne,{name:"listingDetails.floorPlan.code",placeholder:"e.g. 123456",variant:"outlined",fullWidth:!0})),i.a.createElement(l.a,{item:!0,xs:12,md:6},i.a.createElement(v.a,{className:e.mediaLabel},"Upload a Floorplan"),i.a.createElement(et,{handleOnDrop:function(e){var t={uri:"",id:e[0].name+e[0].size,name:e[0].name,fileSize:e[0].size,preview:URL.createObjectURL(e[0]),isUploading:!0,isUploaded:!1,error:!1,file:e[0]};a(o,t)},multipleFiles:!1,name:"FLOORPLAN",fileTypes:["image/jpeg","image/png"],classes:{root:e.root}}),r.listingDetails.floorPlan.image&&i.a.createElement(Ra,{image:r.listingDetails.floorPlan.image,handleDeleteImage:function(){a(o,{uri:"",name:"",fileSize:0})}})),i.a.createElement(l.a,{className:e.warningMessagePadding,item:!0,xs:12},r.listingDetails.floorPlan.code&&r.listingDetails.floorPlan.image&&r.listingDetails.floorPlan.image.uri&&i.a.createElement(ue.a,{severity:"warning"},"The metropix floorplan will be displayed instead of your image upload")))))},Fa=Object(u.a)((function(e){return{ratingLabel:{textTransform:"uppercase",fontWeight:e.typography.fontWeightBold},warningMessagePadding:{paddingTop:e.spacing(5)},container:{padding:"30px"}}}));var Ha=function(e){var t=e.reportType,r=Fa({}),a=Object(E.e)().values;if("epc"!==t&&"homeReport"!==t)return null;var n=a.propertyDetails[t],o=n.eer.current>n.eer.potential||n.eir.current>n.eir.potential;return i.a.createElement(l.a,{container:!0,spacing:3,className:r.container,"data-testid":"energy-ratings"},i.a.createElement(l.a,{item:!0,sm:12,md:6,lg:4},i.a.createElement(l.a,{container:!0,spacing:2},i.a.createElement(l.a,{item:!0,xs:12},i.a.createElement(v.a,{variant:"subtitle1",className:r.ratingLabel},"Energy efficiency rating")),i.a.createElement(l.a,{item:!0,xs:12,sm:6},i.a.createElement(ne,{fullWidth:!0,type:"number",name:"propertyDetails.".concat(t,".eer.current"),label:"Current"})),i.a.createElement(l.a,{item:!0,xs:12,sm:6},i.a.createElement(ne,{fullWidth:!0,type:"number",name:"propertyDetails.".concat(t,".eer.potential"),label:"Potential"})))),i.a.createElement(l.a,{item:!0,sm:12,md:6,lg:4},i.a.createElement(l.a,{container:!0,spacing:2},i.a.createElement(l.a,{item:!0,xs:12},i.a.createElement(v.a,{variant:"subtitle1",className:r.ratingLabel},"Environmental impact rating")),i.a.createElement(l.a,{item:!0,xs:12,sm:6},i.a.createElement(ne,{fullWidth:!0,type:"number",name:"propertyDetails.".concat(t,".eir.current"),label:"Current"})),i.a.createElement(l.a,{item:!0,xs:12,sm:6},i.a.createElement(ne,{fullWidth:!0,type:"number",name:"propertyDetails.".concat(t,".eir.potential"),label:"Potential"})))),i.a.createElement(l.a,{className:r.warningMessagePadding,item:!0,xs:12},o&&i.a.createElement(ue.a,{severity:"warning"},"Current rating should not be greater than potential rating")))},La=Object(u.a)((function(e){return{title:{textTransform:"uppercase"},viewingOption:{textTransform:"capitalize"},radioGroupRoot:{flexDirection:"row"},radioGroupTypographyStyle:{padding:e.spacing(1)}}})),Ba=function(){var e=La({}),t=Object(E.e)().values;return i.a.createElement(j.a,null,i.a.createElement(K.a,{title:"EPC",className:e.title}),i.a.createElement(Q.a,null,i.a.createElement(l.a,{container:!0,spacing:4},i.a.createElement(l.a,{item:!0,xs:12},i.a.createElement(l.a,{container:!0,spacing:3},i.a.createElement(l.a,{item:!0,xs:12},i.a.createElement(v.a,{className:e.radioGroupTypographyStyle},"Please choose one of the options below")),i.a.createElement(l.a,{item:!0,xs:12},i.a.createElement(Wt.a,{component:"fieldset"},i.a.createElement(Qt,{"aria-label":"EPC status selector",name:"propertyDetails.epc.status",row:!0},i.a.createElement(zt.a,{value:"Received",control:i.a.createElement(Gt.a,{color:"primary"}),label:"EPC received",labelPlacement:"start"}),i.a.createElement(zt.a,{value:"Applied",control:i.a.createElement(Gt.a,{color:"primary"}),label:"EPC applied for",labelPlacement:"start"}),i.a.createElement(zt.a,{value:"None",control:i.a.createElement(Gt.a,{color:"primary"}),label:"EPC not yet applied for",labelPlacement:"start"}))))),"Received"===t.propertyDetails.epc.status&&i.a.createElement(l.a,{container:!0,spacing:3},i.a.createElement(l.a,{item:!0,xs:12},i.a.createElement(zt.a,{label:"The EPC is in date and valid",control:i.a.createElement(Vr,{name:"propertyDetails.epc.isValid"})})),i.a.createElement(Ha,{reportType:"epc"}))))))},Ma=Object(u.a)((function(e){return{title:{textTransform:"uppercase"},viewingOption:{textTransform:"capitalize"},radioGroupRoot:{flexDirection:"row"},radioGroupTypographyStyle:{padding:e.spacing(1)}}})),Ua=function(){var e=Ma({}),t=Object(E.e)().values;return i.a.createElement(j.a,null,i.a.createElement(K.a,{title:"Home Report",className:e.title}),i.a.createElement(Q.a,null,i.a.createElement(l.a,{container:!0,spacing:4},i.a.createElement(l.a,{item:!0,xs:12},i.a.createElement(l.a,{item:!0,xs:12},i.a.createElement(v.a,{className:e.radioGroupTypographyStyle},"Please choose one of the options below")),i.a.createElement(l.a,{item:!0,xs:12},i.a.createElement(Wt.a,{component:"fieldset"},i.a.createElement(Qt,{"aria-label":"Home report status selector",name:"propertyDetails.homeReport.status",row:!0},i.a.createElement(zt.a,{value:"None",control:i.a.createElement(Gt.a,{color:"primary"}),label:"Home report not received",labelPlacement:"start"}),i.a.createElement(zt.a,{value:"Received",control:i.a.createElement(Gt.a,{color:"primary"}),label:"Home report received",labelPlacement:"start"}),i.a.createElement(zt.a,{value:"Exempt",control:i.a.createElement(Gt.a,{color:"primary"}),label:"Property exempt from home report",labelPlacement:"start"}))))),"Received"===t.propertyDetails.homeReport.status&&i.a.createElement(Ha,{reportType:"homeReport"}))))},Wa=r(540),Ga=r(541),za=r(536),Va=r(479),Ya=r.n(Va);function _a(e,t){if(null==e)return{};var r,a,n=(function(e,t){if(null==e)return{};var r,a,n={},i=Object.keys(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||(n[r]=e[r]);return n})(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function $a(e,t){return (function(e){if(Array.isArray(e))return e})(e)||(function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],a=!0,n=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(a=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);a=!0);}catch(e){n=!0,i=e}finally{try{a||null==l.return||l.return()}finally{if(n)throw i}}return r})(e,t)||(function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")})()}var qa=function(e){var t=e.className,r=e.actions,a=$a(Object(n.useState)(!1),2),o=a[0],l=a[1];return i.a.createElement("div",{className:t},i.a.createElement(Wa.a,{ariaLabel:"SpeedDial tooltip example",icon:i.a.createElement(Ga.a,{icon:i.a.createElement(Ya.a,null),openIcon:i.a.createElement(ur.a,null)}),onClose:function(){l(!1)},onOpen:function(){l(!0)},open:o},r.map((function(e){e.enabled;var t=_a(e,["enabled"]);return i.a.createElement(za.a,{key:t.name,icon:t.icon,tooltipTitle:t.name,tooltipOpen:!0,onClick:t.onClick})}))))};function Ka(e,t,r,a,n,i,o){try{var l=e[i](o),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(a,n)}function Qa(e){return function(){var t=this,r=arguments;return new Promise((function(a,n){var i=e.apply(t,r);function o(e){Ka(i,a,n,o,l,"next",e)}function l(e){Ka(i,a,n,o,l,"throw",e)}o(void 0)}))}}function Ja(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Xa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ja(Object(r),!0).forEach((function(t){Za(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ja(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Za(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var en=Object(w.a)((function(e){return{saveForm:{position:"fixed",right:e.spacing(2),bottom:e.spacing(2)}}})),tn=function(e,t){var r={main:Math.floor(e),sub:Math.floor(100*(e-Math.floor(e)))};return t===a.METRIC?r:(function(e){var t=e.main+e.sub/100,r=t/.3048,a=Math.floor(r),n=t/.0254;return{main:a,sub:Math.round(n-12*a)}})(r)},rn=function(e,t){var r,n,i,o,l=t===a.METRIC?e:(n=.3048*(r=e).main+.0254*r.sub,i=Math.floor(n),(o=Math.round(100*(n-i)))>=100&&(i++,o-=100),{main:i,sub:o});return l.main+l.sub/100},an=function(e){var t=e.listing,r=e.setSaving,a=e.setLastSaved,n=en(),o=t?(function(e){return Xa({},e,{listingDetails:Xa({},e.listingDetails,{images:e.listingDetails.images.map((function(e){return Xa({},e,{isUploading:!1,isUploaded:!0,error:!1})})),floorPlan:{code:e.listingDetails.floorPlan.code,image:Xa({},e.listingDetails.floorPlan.image,{isUploading:!1,isUploaded:!0,error:!1})},descriptions:Xa({},e.listingDetails.descriptions,{rooms:e.listingDetails.descriptions.rooms.map((function(t){return (function(e,t){return{id:e.id,title:e.title,description:e.description,displayOrder:e.displayOrder,measurements:{width:tn(e.measurements.width,t),length:tn(e.measurements.length,t)}}})(t,e.listingDetails.descriptions.measurementUnit)}))})})})})(t):{};return i.a.createElement(E.c,{initialValues:o,onSubmit:function(e,t){var n=t.setSubmitting,i=Xa({},e);function o(){return(o=Qa(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([Ot(t),new Promise((function(e){return setTimeout(e,1500)}))]);case 2:a(new Date),r(!1);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r(!0),n(!1),(function(e){return o.apply(this,arguments)})(Xa({},i,{listingDetails:Xa({},i.listingDetails,{descriptions:Xa({},i.listingDetails.descriptions,{rooms:i.listingDetails.descriptions.rooms.map((function(e){return Xa({},e,{measurements:{width:rn(e.measurements.width,i.listingDetails.descriptions.measurementUnit),length:rn(e.measurements.length,i.listingDetails.descriptions.measurementUnit)}})}))})})}))},validationSchema:Y},(function(e){var t=[{icon:i.a.createElement(P.a,null),name:"Save",enabled:!0,onClick:e.submitForm},{icon:i.a.createElement(k.a,null),name:"Preview",enabled:!0,onClick:e.submitForm},{icon:i.a.createElement(D.a,null),name:"Set live",enabled:!1,onClick:e.submitForm},{icon:i.a.createElement(k.a,null),name:"Export to PDF",enabled:!0,onClick:function(){console.log("exporting to pdf")}}];return i.a.createElement(E.b,null,i.a.createElement(q,{saveDelaySeconds:60}),i.a.createElement(l.a,{container:!0,spacing:4},i.a.createElement(l.a,{item:!0,xs:12},i.a.createElement(Lt,null)),i.a.createElement(l.a,{item:!0,xs:12},i.a.createElement(Na,null)),i.a.createElement(l.a,{item:!0,xs:12},i.a.createElement(j.a,null,i.a.createElement(de,null))),i.a.createElement(l.a,{item:!0,xs:12},i.a.createElement(ma,null)),i.a.createElement(l.a,{item:!0,xs:12},i.a.createElement(se,null)),i.a.createElement(l.a,{item:!0,xs:12},i.a.createElement(Lr,null)),i.a.createElement(l.a,{item:!0,xs:12},e.values.propertyDetails.isScottishProperty?i.a.createElement(Ua,null):i.a.createElement(Ba,{"data-testid":"epc-details"})),i.a.createElement(l.a,{item:!0,xs:12},i.a.createElement(Pa,null)),i.a.createElement(l.a,{item:!0,xs:12},e.values.propertyDetails.isScottishProperty?i.a.createElement("div",null):i.a.createElement(ja,null)),i.a.createElement(l.a,{item:!0,xs:12},i.a.createElement(_r,null))),i.a.createElement(qa,{className:n.saveForm,actions:t}))}))};function nn(e,t,r,a,n,i,o){try{var l=e[i](o),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(a,n)}function on(e){return function(){var t=this,r=arguments;return new Promise((function(a,n){var i=e.apply(t,r);function o(e){nn(i,a,n,o,l,"next",e)}function l(e){nn(i,a,n,o,l,"throw",e)}o(void 0)}))}}function ln(e,t){return (function(e){if(Array.isArray(e))return e})(e)||(function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],a=!0,n=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(a=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);a=!0);}catch(e){n=!0,i=e}finally{try{a||null==l.return||l.return()}finally{if(n)throw i}}return r})(e,t)||(function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")})()}var cn=Object(u.a)((function(e){return{parentContainer:{display:"flex",flexDirection:"row",width:"100%"},containerStyle:{marginTop:"2rem",marginBottom:"2rem"},mainContentContainer:{display:"flex",flexDirection:"column",marginLeft:"".concat(240,"px"),flex:"0 0 100%",maxWidth:"calc(100% - ".concat(240,"px)")}}}));t.default=function(){var e=cn({}),t=ln(Object(n.useState)(!1),2),r=t[0],a=t[1],u=ln(Object(n.useState)(!1),2),p=u[0],d=u[1],y=ln(Object(n.useState)(null),2),v=y[0],h=y[1],E=ln(Object(n.useState)(!1),2),j=E[0],w=E[1],x=ln(Object(n.useState)(new Date),2),P=x[0],S=x[1],D=Object(o.f)().id;return Object(n.useEffect)((function(){function e(){return(e=on(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a(!0),e.next=4,ht(D);case 4:(t=e.sent)?h(t):console.log("Could not load Id: ".concat(D)),a(!1),d(!0),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),a(!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}!(function(){e.apply(this,arguments)})()}),[D]),i.a.createElement(i.a.Fragment,null,r&&i.a.createElement("div",null,i.a.createElement("h1",null,"loading")),!r&&p&&i.a.createElement(c.a,{in:!0},i.a.createElement("div",{className:e.parentContainer},i.a.createElement("div",{className:e.mainContentContainer},i.a.createElement(g.a,null),i.a.createElement(f,{saving:j,lastSaved:P}),i.a.createElement(m.a,{className:e.containerStyle,fixed:!0},i.a.createElement(l.a,{container:!0,spacing:4},i.a.createElement(l.a,{item:!0,xs:12},v&&i.a.createElement(O,{customer:{label:"test name",route:"/listing"}}))),i.a.createElement(l.a,{container:!0,spacing:4,alignItems:"center"},i.a.createElement(l.a,{item:!0,xs:9},v&&i.a.createElement("h2",null,(function(e){return i.a.createElement(i.a.Fragment,null,e.propertyDetails.address.buildingName&&"".concat(e.propertyDetails.address.buildingName," "),e.propertyDetails.address.buildingNumber&&"".concat(e.propertyDetails.address.buildingNumber," "),e.propertyDetails.address.street&&"".concat(e.propertyDetails.address.street,", "),e.propertyDetails.address.line3&&"".concat(e.propertyDetails.address.line3,", "),e.propertyDetails.address.postalCode)})(v))),i.a.createElement(l.a,{item:!0,xs:3},i.a.createElement(s.a,{href:"/listing"},"Cancel listing"))),i.a.createElement(an,{listing:v,setSaving:w,setLastSaved:S}))),i.a.createElement(b.a,null))))}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjpudWxsLCJzb3VyY2VzIjpbbnVsbF0sInNvdXJjZXNDb250ZW50IjpbbnVsbF0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLG04Q0FBbThDLENBQUEsb0RBQW9ELENBQUEsMGlJQUEwaUksQ0FBQSx5Q0FBeUMsQ0FBQSxLQUFLLENBQUEsZ1ZBQWdWLENBQUEsT0FBTyxDQUFBLHVGQUF1RixDQUFBLGtEQUFrRCxDQUFBLG9JQUFvSSxDQUFBLG9SQUFvUixDQUFBLGttQkFBa21CLENBQUEseWtQQUF5a1AsQ0FBQSxvSUFBb0ksQ0FBQSx5MFFBQXkwUSxDQUFBLGl5QkFBaXlCLENBQUEsMGNBQTBjLENBQUEsNG9CQUE0b0IsQ0FBQSxNQUFNLENBQUEsNHBCQUE0cEIsQ0FBQSxNQUFNLENBQUEsNHBCQUE0cEIsQ0FBQSxNQUFNLENBQUEsd3FCQUF3cUIsQ0FBQSx1Z0NBQXVnQyxDQUFBLGtaQUFrWixDQUFBLE1BQU0sQ0FBQSxnaENBQWdoQyxDQUFBLHlCQUF5QixDQUFBLHNHQUFzRyxDQUFBLEtBQUssQ0FBQSwySEFBMkgsQ0FBQSxLQUFLLENBQUEsa0ZBQWtGLENBQUEsMlZBQTJWLENBQUEseUNBQXlDLENBQUEsS0FBSyxDQUFBLGdWQUFnVixDQUFBLE9BQU8sQ0FBQSx1RkFBdUYsQ0FBQSw2eUNBQTZ5QyxDQUFBLGtnQkFBa2dCLENBQUEsNkVBQTZFLENBQUEsMFhBQTBYLENBQUEsNGdGQUE0Z0YsQ0FBQSx5Q0FBeUMsQ0FBQSxLQUFLLENBQUEsZ1ZBQWdWLENBQUEsT0FBTyxDQUFBLHVGQUF1RixDQUFBLGtEQUFrRCxDQUFBLG9JQUFvSSxDQUFBLHlRQUF5USxDQUFBLGtXQUFrVyxDQUFBLHFXQUFxVyxDQUFBLG9JQUFvSSxDQUFBLHl0Q0FBeXRDLENBQUEsOENBQThDLENBQUEsZzFGQUFnMUYsQ0FBQSxzR0FBc0csQ0FBQSxLQUFLLENBQUEsMkhBQTJILENBQUEsS0FBSyxDQUFBLGtGQUFrRixDQUFBLGlYQUFpWCxDQUFBLHNHQUFzRyxDQUFBLEtBQUssQ0FBQSwySEFBMkgsQ0FBQSxLQUFLLENBQUEsa0ZBQWtGLENBQUEsMkJBQTJCLENBQUEseUNBQXlDLENBQUEsS0FBSyxDQUFBLGdWQUFnVixDQUFBLE9BQU8sQ0FBQSx1RkFBdUYsQ0FBQSxrREFBa0QsQ0FBQSxvSUFBb0ksQ0FBQSw2cERBQTZwRCxDQUFBLGtPQUFrTyxDQUFBLDBOQUEwTixDQUFBLGtXQUFrVyxDQUFBLGtpQ0FBa2lDLENBQUEseUNBQXlDLENBQUEsS0FBSyxDQUFBLGdWQUFnVixDQUFBLE9BQU8sQ0FBQSx1RkFBdUYsQ0FBQSx5QkFBeUIsQ0FBQSxzR0FBc0csQ0FBQSxLQUFLLENBQUEsMkhBQTJILENBQUEsS0FBSyxDQUFBLGtGQUFrRixDQUFBLGswREFBazBELENBQUEsa1dBQWtXLENBQUEsb3ZDQUFvdkMsQ0FBQSxnRkFBZ0YsQ0FBQSwyQ0FBMkMsQ0FBQSxzR0FBc0csQ0FBQSxLQUFLLENBQUEsMkhBQTJILENBQUEsS0FBSyxDQUFBLGtGQUFrRixDQUFBLDJCQUEyQixDQUFBLHlDQUF5QyxDQUFBLEtBQUssQ0FBQSxnVkFBZ1YsQ0FBQSxPQUFPLENBQUEsdUZBQXVGLENBQUEsbTBFQUFtMEUsQ0FBQSx5Q0FBeUMsQ0FBQSxLQUFLLENBQUEsZ1ZBQWdWLENBQUEsT0FBTyxDQUFBLHVGQUF1RixDQUFBLGtEQUFrRCxDQUFBLG9JQUFvSSxDQUFBLDJVQUEyVSxDQUFBLGtXQUFrVyxDQUFBLDB3RUFBMHdFLENBQUEseUNBQXlDLENBQUEsS0FBSyxDQUFBLGdWQUFnVixDQUFBLE9BQU8sQ0FBQSx1RkFBdUYsQ0FBQSxrREFBa0QsQ0FBQSxvSUFBb0ksQ0FBQSw2aERBQTZoRCxDQUFBLHNHQUFzRyxDQUFBLEtBQUssQ0FBQSwySEFBMkgsQ0FBQSxLQUFLLENBQUEsa0ZBQWtGLENBQUEsMkJBQTJCLENBQUEseUNBQXlDLENBQUEsS0FBSyxDQUFBLGdWQUFnVixDQUFBLE9BQU8sQ0FBQSx1RkFBdUYsQ0FBQSx5K0NBQXkrQyxDQUFBLDhOQUE4TixDQUFBLDJCQUEyQixDQUFBLDBGQUEwRixDQUFBLG96QkFBb3pCLENBQUEsb0lBQW9JLENBQUEsZ2hQQUFnaFAsQ0FBQSxva0JBQW9rQixDQUFBLGdnTkFBZ2dOLENBQUEsb0lBQW9JLENBQUEsME5BQTBOLENBQUEseUNBQXlDLENBQUEsS0FBSyxDQUFBLGdWQUFnVixDQUFBLE9BQU8sQ0FBQSx1RkFBdUYsQ0FBQSx5dURBQXl1RCxDQUFBLDZHQUE2RyxDQUFBLGtRQUFrUSxDQUFBLHlhQUF5YSxDQUFBLHFMQUFxTCxDQUFBLDJEQUEyRCxDQUFBLHNjQUFzYyxDQUFBLDJDQUEyQyxDQUFBLHFtRUFBcW1FLENBQUEseUNBQXlDLENBQUEsS0FBSyxDQUFBLGdWQUFnVixDQUFBLE9BQU8sQ0FBQSx1RkFBdUYsQ0FBQSx1aUNBQXVpQyxDQUFBLG1DQUFtQyxDQUFBLHNyQkFBc3JCLENBQUEsaWNBQWljLENBQUEifQ==