{"code":"exports.ids=[2],exports.modules={226:function(e,t,r){\"use strict\";r.r(t);r(40),r(43),r(45),r(30),r(29),r(125),r(46),r(41),r(39),r(126);var n,a=r(0),i=r.n(a),o=r(27),l=r(42),c=r.n(l),s=r(105),u=r.n(s),m=r(76),p=r.n(m),d=r(72),f=r.n(d),g=r(106),b=r.n(g),y=r(80),v=r.n(y),h=f()((function(e){return{parentContainer:{display:\"flex\",flex:1,flexDirection:\"row\",justifyContent:\"center\",color:\"white\",backgroundColor:\"grey\",paddingTop:e.spacing(1),paddingBottom:e.spacing(1),alignItems:\"center\",top:\"0px\",position:\"sticky\",zIndex:e.zIndex.appBar},element:{paddingRight:e.spacing(1),paddingLeft:e.spacing(1)}}})),O=function(e){var t=e.saving,r=e.lastSaved,n=h({}),a=new Intl.DateTimeFormat(\"en-Us\",{month:\"short\",year:\"numeric\",day:\"numeric\",hour:\"numeric\",minute:\"numeric\"}).format(r);return i.a.createElement(\"div\",{className:n.parentContainer},i.a.createElement(\"div\",{className:n.element},\"Draft Mode\"),i.a.createElement(\"div\",{className:n.element},t?i.a.createElement(\"div\",{style:{display:\"flex\"}},i.a.createElement(v.a,{size:\"1rem\",style:{color:\"white\"}})):\"Last saved \".concat(a)))},E=r(107),j=r(108),w=r(194),x=r.n(w),P=r(73),S=r.n(P),D=r(195),k=r.n(D),C=function(e){var t=e.customer;return i.a.createElement(x.a,{\"aria-label\":\"breadcrumb\"},i.a.createElement(k.a,{href:t.route},t.label),i.a.createElement(S.a,{color:\"textPrimary\"},\"Create a draft property listing\"))},I=(r(124),r(231),r(44),r(232),r(233),r(228),r(238),r(234),r(165)),R=r(166),A=r.n(R),T=r(20),N=r(196),F=r.n(N),H=r(197),L=r.n(H),B=r(198),M=r.n(B),U=r(178);!function(e){e.METRIC=\"metric\",e.IMPERIAL=\"imperial\"}(n||(n={}));var W=Object(U.object)({current:Object(U.number)().integer().min(0).max(100).label(\"Current rating\"),potential:Object(U.number)().integer().min(0).max(100).label(\"Potential rating\")}),G=Object(U.object)({status:Object(U.string)(),rrn:Object(U.string)(),uri:Object(U.string)(),eer:W,eir:W,isValid:Object(U.boolean)()}),z=Object(U.object)({status:Object(U.string)(),eer:W,eir:W}),V=Object(U.object)({bedroomTotal:Object(U.number)(),minPrice:Object(U.number)(),maxPrice:Object(U.number)(),epc:Object(U.object)().when(\"isScottishProperty\",{is:!0,then:G.nullable(),otherwise:G}),homeReport:Object(U.object)().when(\"isScottishProperty\",{is:!1,then:z.nullable(),otherwise:z}),propertyType:Object(U.string)(),propertyStyle:Object(U.string)(),newBuild:Object(U.boolean)(),isScottishProperty:Object(U.boolean)()}),Y=Object(U.object)({main:Object(U.number)().typeError(\"Please enter a number\").integer(\"Please enter a whole number\").positive(\"Please enter a number greater than 0\"),sub:Object(U.number)().typeError(\"Please enter a number\").integer(\"Please enter a whole number\").positive(\"Please enter a number greater than 0\")}),_=Object(U.object)({id:Object(U.string)(),title:Object(U.string)(),description:Object(U.string)(),displayOrder:Object(U.number)().integer().min(0),measurements:Object(U.object)({length:Y,width:Y})}),$=Object(U.object)({summary:Object(U.string)(),measurementUnit:Object(U.string)().oneOf([n.IMPERIAL,n.METRIC]),rooms:Object(U.array)().of(_)}),K=Object(U.object)({sameDay:Object(U.boolean)(),type:Object(U.string)(),autoConfirm:Object(U.boolean)()}),q=Object(U.object)({confirmedId:Object(U.boolean)(),confirmedLandRegistryOwnership:Object(U.boolean)(),landRegistryDocsUri:Object(U.string)(),confirmedCorrectData:Object(U.boolean)(),agencyAgreementSignedDate:Object(U.string)(),agencyAgreementPeriod:Object(U.number)(),competitorAgreementExpiry:Object(U.string)().nullable()}),Q=Object(U.object)({uri:Object(U.string)(),isPrimary:Object(U.boolean)(),id:Object(U.string)(),caption:Object(U.string)(),name:Object(U.string)(),fileSize:Object(U.number)()}),J=Object(U.object)({uri:Object(U.string)(),id:Object(U.string)(),name:Object(U.string)(),fileSize:Object(U.number)()}),X=Object(U.object)({order:Object(U.number)(),feature:Object(U.string)()}),Z=Object(U.object)({code:Object(U.string)().max(6).label(\"Metropix Floor Plan code\"),image:J}),ee=Object(U.object)({id:Object(U.string)(),marketPrice:Object(U.number)(),priceQualifier:Object(U.string)().nullable(),images:Object(U.array)().of(Q),floorPlan:Z,video:Object(U.string)(),tour:Object(U.string)(),descriptions:$,viewingRules:K,compliance:q,agencyHasKeys:Object(U.boolean)(),agencyKeysRef:Object(U.string)(),sentAdvancedMarketingPack:Object(U.boolean)(),keyFeatures:Object(U.array)().of(X)}),te=Object(U.object)({propertyDetails:V,listingUri:Object(U.string)(),listingDetails:ee});function re(e,t,r,n,a,i,o){try{var l=e[i](o),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,a)}function ne(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){re(i,n,a,o,l,\"next\",e)}function l(e){re(i,n,a,o,l,\"throw\",e)}o(void 0)}))}}var ae=function(e){var t,r,n,o=e.saveDelaySeconds,l=Object(I.useFormikContext)();return t=ne(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.submitForm();case 2:case\"end\":return e.stop()}}),e)}))),r=1e3*o,n=Object(a.useRef)(),Object(a.useEffect)((function(){n.current=t}),[t]),Object(a.useEffect)((function(){if(null!==r){var e=setInterval((function(){void 0!==n.current&&n.current()}),r);return function(){return clearInterval(e)}}return function(){}}),[r]),i.a.createElement(i.a.Fragment,null)};var ie=r(167),oe=r.n(ie),le=r(168),ce=r.n(le),se=r(175),ue=r.n(se),me=r(171),pe=r.n(me);r(230),r(229);function de(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?de(Object(r),!0).forEach((function(t){ge(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):de(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ge(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function be(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}()}function ye(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ve(e){var t=e.children,r=ye(e,[\"children\"]);return i.a.createElement(pe.a,function(e,t){var r,n,a=e.disabled,i=e.name,o=e.onChange,l=e.onBlur,c=e.validate,s=ye(e,[\"disabled\",\"name\",\"onChange\",\"onBlur\",\"validate\"]),u=Object(I.useFormikContext)().isSubmitting,m=Object(I.useField)({name:i,onChange:o,onBlur:l,validate:c}),p=be(m,2),d=p[0],f=p[1],g=f.error,b=f.touched&&!!g;return fe({},s,{},d,{error:b,helperText:b?g:s.helperText,disabled:null!=a?a:u,variant:null!==(r=s.variant)&&void 0!==r?r:\"outlined\",type:null!==(n=s.type)&&void 0!==n?n:\"text\",onChange:o||d.onChange,onBlur:l||d.onBlur,InputLabelProps:fe({htmlFor:d.name},s.InputLabelProps),InputProps:fe({id:d.name},s.InputProps)},null==t?void 0:t(m))}(r),t)}var he=[{NotSpecified:\"Not Specified\"},{Apartment:\"Apartment\"},{Barn:\"Barn\"},{BarnConversion:\"Barn Conversion\"},{BarNightclub:\"Bar/Nightclub\"},{BlockOfApartments:\"Block Of Apartments\"},{Bungalow:\"Bungalow\"},{BusinessPark:\"Business Park\"},{Cafe:\"Cafe\"},{CampsiteOrHolidayVillage:\"Campsite Or Holiday Village\"},{Caravan:\"Caravan\"},{Castle:\"Castle\"},{CaveHouse:\"Cave House\"},{Chalet:\"Chalet\"},{CharacterProperty:\"Character Property\"},{ChildcareFacility:\"Childcare Facility\"},{ClusterHouse:\"Cluster House\"},{CoachHouse:\"Coach House\"},{CommercialDevelopment:\"Commercial Development\"},{CommercialProperty:\"Commercial Property\"},{ConvenienceStore:\"Convenience Store\"},{Cortijo:\"Cortijo\"},{Cottage:\"Cottage\"},{CountryHouse:\"Country House\"},{DataCentre:\"Data Centre\"},{DetachedBungalow:\"Detached Bungalow\"},{DetachedHouse:\"Detached House\"},{DetachedVilla:\"Detached Villa\"},{DistributionWarehouse:\"Distribution Warehouse\"},{Duplex:\"Duplex\"},{EndTerraceHouse:\"End Terrace House\"},{EquestrianFacility:\"Equestrian Facility\"},{Factory:\"Factory\"},{Farm:\"Farm\"},{FarmHouse:\"Farm House\"},{FarmLand:\"Farm Land\"},{Finca:\"Finca\"},{Flat:\"Flat\"},{FlatShare:\"Flat Share\"},{Garages:\"Garages\"},{Gite:\"Gite\"},{GroundFloorFlat:\"Ground Floor Flat\"},{GroundFloorMaisonette:\"Ground Floor Maisonette\"},{GuestHouse:\"Guest House\"},{HairdresserBarberShop:\"Hairdresser/BarberShop\"},{HealthcareFacility:\"Healthcare Facility\"},{HeavyIndustrial:\"Heavy Industrial\"},{Hospitality:\"Hospitality\"},{Hotel:\"Hotel\"},{HotelRoom:\"Hotel Room\"},{HouseBoat:\"House Boat\"},{HouseOfMultipleOccupation:\"House Of Multiple Occupation\"},{HouseShare:\"House Share\"},{HouseUnspecified:\"House Unspecified\"},{IndustrialDevelopment:\"Industrial Development\"},{IndustrialPark:\"Industrial Park\"},{LandCommercial:\"Land Commercial\"},{LandResidential:\"Land Residential\"},{LeisureFacility:\"Leisure Facility\"},{LightIndustrial:\"Light Industrial\"},{LinkDetachedHouse:\"Link Detached House\"},{Lodge:\"Lodge\"},{LogCabin:\"Log Cabin\"},{Longere:\"Longere\"},{Maisonette:\"Maisonette\"},{ManorHouse:\"Manor House\"},{MarineProperty:\"Marine Property\"},{MewsHouse:\"Mews House\"},{Mill:\"Mill\"},{MixedUse:\"Mixed Use\"},{MobileHome:\"Mobile Home\"},{Office:\"Office\"},{OffPlan:\"Off Plan\"},{ParkHome:\"Park Home\"},{Parking:\"Parking\"},{Penthouse:\"Penthouse\"},{PetrolStation:\"Petrol Station\"},{PlaceOfWorship:\"Place Of Worship\"},{Plot:\"Plot\"},{PostOffice:\"Post Office\"},{PrivateHalls:\"Private Halls\"},{Pub:\"Pub\"},{ResearchAndDevelopmentFacility:\"Research And Development Facility\"},{ResidentialDevelopment:\"Residential Development\"},{Restaurant:\"Restaurant\"},{RetailPropertyHighStreet:\"Retail Property High Street\"},{RetailPropertyOutOfTown:\"Retail Property Out Of Town\"},{RetirementProperty:\"Retirement Property\"},{Riad:\"Riad\"},{Ruins:\"Ruins\"},{SciencePark:\"Science Park\"},{SemiDetachedBungalow:\"Semi Detached Bungalow\"},{SemiDetachedHouse:\"Semi Detached House\"},{SemiDetachedVilla:\"Semi Detached Villa\"},{ServicedApartment:\"Serviced Apartment\"},{ServicedOffice:\"Serviced Office\"},{ShelteredHousing:\"Sheltered Housing\"},{Shop:\"Shop\"},{Showroom:\"Showroom\"},{Smallholding:\"Smallholding\"},{Spa:\"Spa\"},{SportsFacilities:\"Sports Facilities\"},{StatelyHome:\"Stately Home\"},{StoneHouse:\"Stone House\"},{Storage:\"Storage\"},{StudioFlat:\"Studio Flat\"},{Takeaway:\"Takeaway\"},{TerracedBungalow:\"Terraced Bungalow\"},{TownHouse:\"Town House\"},{TradeCounter:\"Trade Counter\"},{Triplex:\"Triplex\"},{Trulli:\"Trulli\"},{Villa:\"Villa\"},{VillageHouse:\"Village House\"},{Warehouse:\"Warehouse\"},{WorkshopOrRetailSpace:\"Workshop Or Retail Space\"},{TerracedHouse:\"Terraced House\"}],Oe=[{NotSpecified:\"Not Specified\"},{Bungalow:\"Bungalow\"},{Commercial:\"Commercial\"},{FlatOrApartment:\"Flat Or Apartment\"},{House:\"House\"},{Land:\"Land\"},{Other:\"Other\"},{ParkHome:\"Park Home\"}],Ee=f()((function(e){return{title:{textTransform:\"uppercase\"}}})),je=[0,1,2,3,4],we=function(){var e=Ee().title,t=Object(I.useFormikContext)(),r=t.values,n=t.setFieldValue;return i.a.createElement(A.a,null,i.a.createElement(oe.a,{title:\"Basic Property Info\",className:e}),i.a.createElement(ce.a,null,i.a.createElement(c.a,{container:!0,spacing:3},i.a.createElement(c.a,{item:!0,xs:12,sm:6,md:3},i.a.createElement(ve,{label:\"Type\",name:\"propertyDetails.propertyType\",fullWidth:!0,select:!0,variant:\"outlined\"},Oe.map((function(e){var t=Object.keys(e)[0];return i.a.createElement(ue.a,{key:t,value:t},e[t])})))),i.a.createElement(c.a,{item:!0,xs:12,sm:6,md:3},i.a.createElement(ve,{label:\"Style\",name:\"propertyDetails.propertyStyle\",fullWidth:!0,select:!0,variant:\"outlined\"},he.map((function(e){var t=Object.keys(e)[0];return i.a.createElement(ue.a,{key:t,value:t},e[t])})))),i.a.createElement(c.a,{item:!0,xs:12,sm:6,md:3},i.a.createElement(ve,{label:\"Bedrooms\",name:\"propertyDetails.bedroomTotal\",fullWidth:!0,select:!0,variant:\"outlined\"},je.map((function(e){return i.a.createElement(ue.a,{key:e,value:e},e)})))),i.a.createElement(c.a,{item:!0,xs:12,sm:6,md:3},i.a.createElement(pe.a,{id:\"new-build-field\",label:\"New build?\",value:r.propertyDetails.newBuild?\"Yes\":\"No\",onChange:function(e){n(\"propertyDetails.newBuild\",\"Yes\"===e.target.value)},variant:\"outlined\",fullWidth:!0,select:!0},i.a.createElement(ue.a,{value:\"No\"},\"No\"),i.a.createElement(ue.a,{value:\"Yes\"},\"Yes\"))))))},xe=r(172),Pe=r.n(xe),Se=[{ComingSoon:\"Coming Soon\"},{FixedPrice:\"Fixed Price\"},{From:\"From\"},{GuidePrice:\"Guide Price\"},{OffersInExcessOf:\"Offers In Excess Of\"},{OffersInvited:\"Offers Invited\"},{OffersOver:\"Offers Over\"},{OIRO:\"Offers In The Region Of\"},{PartBuyPartRent:\"Part Buy Part Rent\"},{POA:\"Price On Application\"},{SaleByTender:\"Sale By Tender\"},{SharedOwnership:\"Shared Ownership\"},{SharedEquity:\"Shared Equity\"}],De=f()((function(e){return{title:{textTransform:\"uppercase\"},warningMessagePadding:{paddingTop:e.spacing(5)}}})),ke=function(){var e=De({}),t=Object(I.useFormikContext)(),r=t.values,n=t.setFieldValue,a=r.listingDetails.marketPrice<r.propertyDetails.minPrice||r.listingDetails.marketPrice>r.propertyDetails.maxPrice;return i.a.createElement(A.a,null,i.a.createElement(oe.a,{title:\"Pricing\",className:e.title}),i.a.createElement(ce.a,null,i.a.createElement(c.a,{container:!0,spacing:3},i.a.createElement(c.a,{item:!0,xs:12,sm:6,md:3},i.a.createElement(ve,{label:\"Min Price\",name:\"propertyDetails.minPrice\",placeholder:\"£ Min\",InputLabelProps:{shrink:!0},variant:\"outlined\",fullWidth:!0})),i.a.createElement(c.a,{item:!0,xs:12,sm:6,md:3},i.a.createElement(ve,{label:\"Max Price\",name:\"propertyDetails.maxPrice\",placeholder:\"£ Max\",InputLabelProps:{shrink:!0},variant:\"outlined\",fullWidth:!0})),i.a.createElement(c.a,{item:!0,xs:12,sm:6,md:3},i.a.createElement(ve,{label:\"Market Price\",placeholder:\"£\",name:\"listingDetails.marketPrice\",InputLabelProps:{shrink:!0},variant:\"outlined\",fullWidth:!0})),i.a.createElement(c.a,{item:!0,xs:12,sm:6,md:3},i.a.createElement(pe.a,{id:\"price-qualifier\",label:\"Price Qualifier\",\"aria-label\":\"price-qualifier\",value:r.listingDetails.priceQualifier?r.listingDetails.priceQualifier:\"\",onChange:function(e){n(\"listingDetails.priceQualifier\",e.target.value)},variant:\"outlined\",select:!0,fullWidth:!0},i.a.createElement(ue.a,{value:\"\"},\"None\"),Se.map((function(e){var t=Object.keys(e)[0];return i.a.createElement(ue.a,{key:t,value:t},e[t])})))),i.a.createElement(c.a,{className:e.warningMessagePadding,item:!0,xs:12},a&&i.a.createElement(Pe.a,{severity:\"warning\"},\"The market price you have entered does not fall within the minumum and maximum price\")))))},Ce=(r(123),r(235),r(74),r(140),r(142),r(239),r(199)),Ie=r.n(Ce),Re=r(179),Ae=r(180),Te=r.n(Ae),Ne=r(181),Fe=r.n(Ne),He=r(182),Le=r.n(He),Be=r(183),Me=r.n(Be),Ue=r(184),We=r.n(Ue),Ge=r(173),ze=r.n(Ge),Ve=r(176),Ye=r.n(Ve),_e=r(200),$e=r.n(_e),Ke=r(201),qe=r.n(Ke),Qe=r(185),Je=r.n(Qe),Xe=r(169),Ze=r.n(Xe),et=r(202),tt=r.n(et),rt=r(203),nt=r.n(rt),at=r(204),it=r.n(at),ot=r(205),lt=r.n(ot),ct=r(186),st=r.n(ct);function ut(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var mt=Ye.a[400],pt=Ye.a[50],dt=qe.a[500],ft=Je.a[200],gt=f()((function(e){return{root:{height:\"100%\",display:\"block\",overflow:\"hidden\",position:\"relative\",borderWidth:2,borderRadius:\"2px\",borderStyle:\"solid\",borderColor:\"transparent\",\"&:hover, &:focus\":{\"& $buttonRoot, & $groupSelectButton, & $imgOverlay\":{opacity:1,visibility:\"visible\"}},\"&$groupSelected\":{\"& $imgOverlay\":{backgroundColor:\"\".concat(Object(T.fade)(dt,.8))},\"& $buttonRoot, & $groupSelectButton, & $imgOverlay\":{opacity:1,visibility:\"visible\"}},\"&$isUploading\":{\"& $img\":{filter:\"blur(2px)\"},\"& $imgOverlay\":{backgroundColor:\"\".concat(Object(T.fade)(mt,.3)),opacity:1}}},img:{},buttonRoot:{width:\"100%\",height:\"100%\",position:\"absolute\",top:0,left:0,opacity:0,zIndex:3,\"&:focus\":{opacity:1,\"& ~ $groupSelectButton, & ~ $imgOverlay\":{opacity:1}}},selected:{borderColor:Object(T.fade)(ft,.8)},groupSelected:{},imgOverlay:{position:\"absolute\",left:0,top:0,width:\"100%\",height:\"100%\",opacity:0,zIndex:2,backgroundColor:\"\".concat(Object(T.fade)(mt,.8)),display:\"flex\",alignItems:\"center\",justifyContent:\"center\"},groupSelectButton:{position:\"absolute\",right:0,top:0,zIndex:4,opacity:0,\"&:focus\":{opacity:1,\"& ~ $imgOverlay\":{opacity:1}}},isPrimary:{position:\"absolute\",color:\"\".concat($e.a[500]),bottom:\"100%\",left:\"0\",top:\"0\",zIndex:4},previewButtonWrapper:{position:\"absolute\",transform:\"translate(-50%,-50%)\",left:\"50%\",top:\"50%\"},previewButton:{backgroundColor:\"\".concat(Object(T.fade)(pt,0)),border:\"2px solid \".concat(Object(T.fade)(dt,1)),outline:\"none\",borderRadius:\"1000px\",color:\"\".concat(Object(T.fade)(pt,1)),borderColor:\"\".concat(Object(T.fade)(pt,1)),fontSize:16,padding:\"\".concat(e.spacing(.25),\"px \").concat(e.spacing(1),\"px\")},isUploading:{}}})),bt=i.a.forwardRef((function(e,t){var r=gt({}),n=e.isGroupSelected?e.handleToggleFromGroupSelect:e.onCurrentImageClick;return e.image.isUploading?i.a.createElement(\"div\",{className:ze()(r.root,r.isUploading)},i.a.createElement(\"img\",{src:e.image.preview||\"\".concat(\"#{API_BASE_URL}/files\",\"/\").concat(e.image.uri),alt:e.image.name||\"something went wrong\",\"data-testid\":\"thumb-image\",ref:t,className:r.img}),i.a.createElement(\"div\",{className:r.imgOverlay},i.a.createElement(v.a,{\"data-testid\":\"thumb-spinner\"}))):i.a.createElement(\"div\",{className:ze()(r.root,e.isSelected&&r.selected,e.isGroupSelected&&r.groupSelected)},i.a.createElement(\"img\",{src:e.image.preview||\"\".concat(\"#{API_BASE_URL}/files\",\"/\").concat(e.image.uri),alt:\"Something went wrong\",\"data-testid\":\"thumb-image\",ref:t,className:r.img}),i.a.createElement(tt.a,{disabled:e.isSelected,disableRipple:!0,onClick:n,className:r.buttonRoot,\"data-testid\":\"thumb-button-\".concat(e.i)},i.a.createElement(\"div\",{className:r.previewButtonWrapper},e.isGroupSelected?i.a.createElement(\"span\",{className:r.previewButton},\"Deselect\"):i.a.createElement(\"span\",{className:r.previewButton},\"Preview\"))),i.a.createElement(\"div\",{className:r.isPrimary},e.image.isPrimary&&i.a.createElement(st.a,{\"data-testid\":\"primary-star\"})),i.a.createElement(Ze.a,{className:r.groupSelectButton,onClick:e.handleToggleFromGroupSelect,color:\"primary\",\"aria-label\":\"group select\"},e.isGroupSelected?i.a.createElement(lt.a,{fontSize:\"small\",\"data-testid\":\"checked-icon\"}):i.a.createElement(it.a,{fontSize:\"small\",\"data-testid\":\"unchecked-icon\"})),i.a.createElement(\"div\",{className:r.imgOverlay}))}));bt.muiName=\"Image\";var yt=function(e){var t=e.style,r=ut(e,[\"style\"]);return i.a.createElement(nt.a,{style:t},i.a.createElement(bt,r))},vt=(r(136),r(75),r(128),r(251),r(206));function ht(){return(ht=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Ot=f()((function(e){return{root:{flex:1,display:\"flex\",flexDirection:\"column\",alignItems:\"center\",padding:e.spacing(2.5),borderWidth:2,borderRadius:2,borderColor:\"\".concat(Re.grey[300]),borderStyle:\"dashed\",backgroundColor:\"\".concat(Re.grey[200]),color:\"\".concat(Re.grey[900]),transition:\"border .24s ease-in-out\",cursor:\"pointer\"},active:{borderColor:Re.blue.A200},valid:{borderColor:Re.green.A200},invalid:{borderColor:Re.red.A200}}}));var Et=function(e){var t,r=e.handleOnDrop,n=e.classes,a=void 0===n?{}:n,o=e.multipleFiles,l=e.name,s=e.fileTypes,u=Ot({});s&&(t=null==s?void 0:s.map((function(e){return e.split(\"/\")[1]})));var m=i.a.createElement(\"p\",null,\"Drop your \",i.a.createElement(\"b\",null,null!=l?l:\"FILES\"),\" (\",t.join(\", \"),\") here or\",\" \",i.a.createElement(\"b\",null,\"select\"),\" from your computer\"),p=Object(vt.useDropzone)({onDrop:r,accept:s,multiple:o}),d=p.getRootProps,f=p.getInputProps,g=p.isDragActive,b=p.isDragAccept,y=p.isDragReject,v=p.draggedFiles,h=[u.root,[g?u.active:null],[b?u.valid:null],[y?u.invalid:null]],O=\"\";return O=!o&&v.length>1?\"More than one file was added!\":o?\"One or more of the files were in the wrong format!\":\"The file was in the wrong format!\",i.a.createElement(c.a,{item:!0,xs:12},i.a.createElement(\"div\",ht({},d({className:ze()(h,a.root)}),{\"data-testid\":\"dropzone\"}),i.a.createElement(\"input\",f()),!g&&m,g&&!y&&i.a.createElement(\"p\",null,\"Drop me inside the box\"),y&&i.a.createElement(\"p\",null,O)))},jt=r(207),wt=r.n(jt),xt=r.p+\"27ea510f5a45913ef23b882e4e0a48f7.png\",Pt=Ye.a[50],St=Ye.a[900],Dt=f()((function(e){return{titleBar:{backgroundColor:St,position:\"absolute\",top:0,left:0,width:\"100%\",color:Pt,padding:e.spacing(1),display:\"flex\",alignItems:\"center\",justifyContent:\"flex-end\"},previewImageContainer:{position:\"relative\",width:\"100%\",paddingTop:\"56.25%\",height:0,overflow:\"hidden\"},previewImageStyle:{position:\"absolute\",top:\"50%\",left:0,width:\"100%\",transform:\"translateY(-50%)\"},primaryIcon:{outlineColor:\"\".concat(Object(T.fade)(Pt,1)),color:\"\".concat(Object(T.fade)(Pt,1))}}})),kt=function(e){var t=e.currentSelectedImageIndex,r=Dt(),n=Object(a.useRef)(null),o=Object(I.useFormikContext)(),l=o.values,s=o.setFieldValue,u=null!==t&&l.listingDetails.images[t];Object(a.useEffect)((function(){n.current&&n.current.focus()}),[u]);return i.a.createElement(c.a,{item:!0,xs:12,md:6},u?i.a.createElement(c.a,{container:!0,spacing:2},i.a.createElement(c.a,{item:!0,xs:12},i.a.createElement(\"div\",{className:r.previewImageContainer},i.a.createElement(\"img\",{src:u.preview||\"\".concat(\"#{API_BASE_URL}/files\",\"/\").concat(u.uri),alt:u.name,className:r.previewImageStyle}),i.a.createElement(\"div\",{className:r.titleBar},i.a.createElement(\"span\",null,\"Make this image primary\"),i.a.createElement(Ze.a,{onClick:function(){return e=l.listingDetails.images.map((function(e,r){return r===t?(e.isPrimary=!e.isPrimary,e):(e.isPrimary=!1,e)})),void s(\"listingDetails.images\",e);var e},\"data-testid\":\"primary-button\"},u.isPrimary?i.a.createElement(st.a,{className:r.primaryIcon,\"data-testid\":\"isprimary-icon\"}):i.a.createElement(wt.a,{className:r.primaryIcon,\"data-testid\":\"isnotprimary-icon\"}))))),i.a.createElement(c.a,{item:!0,xs:8},i.a.createElement(S.a,{variant:\"h5\"},\"Caption this photograph\"),i.a.createElement(ve,{inputRef:n,name:\"listingDetails.images[\".concat(t,\"].caption\"),label:\"new name goes here\",variant:\"outlined\",fullWidth:!0})),i.a.createElement(c.a,{item:!0,xs:4},i.a.createElement(S.a,{variant:\"h5\"},\"Pos.\"),i.a.createElement(S.a,{variant:\"h6\"},t?l.listingDetails.images.indexOf(l.listingDetails.images[t]):0))):i.a.createElement(\"div\",{className:r.previewImageContainer},i.a.createElement(\"img\",{src:xt,className:r.previewImageStyle,alt:\"Placeholder\"})))},Ct=r(187),It=r.n(Ct);function Rt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function At(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Rt(Object(r),!0).forEach((function(t){Tt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Tt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nt(e,t,r,n,a,i,o){try{var l=e[i](o),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,a)}var Ft=function(){var e,t=(e=regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,It.a.post(\"\".concat(\"#{API_BASE_URL}/files\"),t,At({},{headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\"}},{},r));case 3:if(200===(n=e.sent).status){e.next=6;break}return e.abrupt(\"return\",null);case 6:return e.abrupt(\"return\",n.data);case 9:throw e.prev=9,e.t0=e.catch(0),new Error(\"Error uploading image: \".concat(e.t0));case 12:case\"end\":return e.stop()}}),e,null,[[0,9]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){Nt(i,n,a,o,l,\"next\",e)}function l(e){Nt(i,n,a,o,l,\"throw\",e)}o(void 0)}))});return function(e,r){return t.apply(this,arguments)}}(),Ht=r(110);function Lt(e,t,r,n,a,i,o){try{var l=e[i](o),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,a)}function Bt(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){Lt(i,n,a,o,l,\"next\",e)}function l(e){Lt(i,n,a,o,l,\"throw\",e)}o(void 0)}))}}var Mt=function(e){return{Accept:\"application/json\",\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(e)}},Ut=function(){var e=Bt(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!Ht.a){e.next=11;break}return e.next=4,Ht.a.getAccessToken();case 4:return r=e.sent,e.next=7,It.a.get(\"\".concat(\"#{API_BASE_URL}/listings\",\"/\").concat(t),{headers:Mt(r.accessToken)});case 7:return n=e.sent,e.abrupt(\"return\",n.data);case 11:throw new Error(\"Unable to authenticate\");case 12:e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(0),new Error(\"Unable to GetListingById\");case 17:case\"end\":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),Wt=function(){var e=Bt(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,console.log(t.listingUri),!Ht.a){e.next=12;break}return e.next=5,Ht.a.getAccessToken();case 5:return r=e.sent,e.next=8,It.a.put(\"\".concat(\"#{API_BASE_URL}/listings\"),t,{headers:Mt(r.accessToken)});case 8:return n=e.sent,e.abrupt(\"return\",n.data);case 12:throw new Error(\"Unable to authenticate\");case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(0),new Error(\"Unable to PutListing \"+e.t0);case 18:case\"end\":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),Gt=function(){var e=Bt(regeneratorRuntime.mark((function e(t,r){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!Ht.a){e.next=11;break}return e.next=4,Ht.a.getAccessToken();case 4:return n=e.sent,e.next=7,It.a.patch(\"\".concat(\"#{API_BASE_URL}\",\"/\").concat(t,\"/images/add\"),r,{headers:Mt(n.accessToken)});case 7:return a=e.sent,e.abrupt(\"return\",a.data);case 11:throw new Error(\"Unable to authenticate\");case 12:e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(0),new Error(\"Unable to add image \"+r.name);case 17:case\"end\":return e.stop()}}),e,null,[[0,14]])})));return function(t,r){return e.apply(this,arguments)}}(),zt=function(){var e=Bt(regeneratorRuntime.mark((function e(t,r){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!Ht.a){e.next=11;break}return e.next=4,Ht.a.getAccessToken();case 4:return n=e.sent,e.next=7,It.a.patch(\"\".concat(\"#{API_BASE_URL}\",\"/\").concat(t,\"/images/remove\"),r,{headers:Mt(n.accessToken)});case 7:return a=e.sent,e.abrupt(\"return\",a.data);case 11:throw new Error(\"Unable to authenticate\");case 12:e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(0),new Error(\"Unable to Remove images from listing\");case 17:case\"end\":return e.stop()}}),e,null,[[0,14]])})));return function(t,r){return e.apply(this,arguments)}}();function Vt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Yt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vt(Object(r),!0).forEach((function(t){_t(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _t(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $t(e,t,r,n,a,i,o){try{var l=e[i](o),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,a)}function Kt(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){$t(i,n,a,o,l,\"next\",e)}function l(e){$t(i,n,a,o,l,\"throw\",e)}o(void 0)}))}}var qt=function(){var e=Kt(regeneratorRuntime.mark((function e(t,r){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,zt(r,t);case 3:return a=e.sent,t.forEach((function(e){a.images.find((function(t){return t.uri===e}))||n.push(e)})),e.abrupt(\"return\",n);case 6:case\"end\":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Qt=function(){var e=Kt(regeneratorRuntime.mark((function e(t){var r,n,a,i,o,l,c=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.length>1&&void 0!==c[1]?c[1]:null,n=c.length>2?c[2]:void 0,t.file){e.next=4;break}return e.abrupt(\"return\",null);case 4:return e.prev=4,(a=new FormData).append(\"details\",JSON.stringify({})),a.append(\"file\",t.file),i={signal:n.signal},e.next=11,Ft(a,i);case 11:if(o=e.sent){e.next=14;break}return e.abrupt(\"return\",Yt({},t,{isUploaded:!1,isUploading:!1,error:!0}));case 14:if(!r){e.next=22;break}return(l=t).uri=o.location,e.next=19,Gt(r,l);case 19:if(e.sent){e.next=22;break}return e.abrupt(\"return\",Yt({},t,{isUploaded:!1,isUploading:!1,error:!0}));case 22:return e.abrupt(\"return\",Yt({},t,{isUploaded:!0,isUploading:!1,error:!1,uri:o.location}));case 25:return e.prev=25,e.t0=e.catch(4),e.abrupt(\"return\",Yt({},t,{isUploaded:!1,isUploading:!1,error:!0}));case 28:case\"end\":return e.stop()}}),e,null,[[4,25]])})));return function(t){return e.apply(this,arguments)}}();function Jt(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}()}function Xt(e,t,r,n,a,i,o){try{var l=e[i](o),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,a)}function Zt(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){Xt(i,n,a,o,l,\"next\",e)}function l(e){Xt(i,n,a,o,l,\"throw\",e)}o(void 0)}))}}function er(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}()}var tr=Re.grey[50],rr=f()((function(e){return{cardHeader:{textTransform:\"uppercase\"},mainImageStyleOuter:{display:\"inline-flex\",borderRadius:2,width:\"70%\",height:\"30vh\",alignItems:\"center\",justifyContent:\"center\"},containerStyle:{display:\"flex\",flexDirection:\"row\"},gridImageStyle:{display:\"flex\",flexWrap:\"wrap\",flexDirection:\"row\",width:\"100%\"},root:{marginTop:\"1%\",display:\"flex\",flexWrap:\"wrap\",overflow:\"hidden\"},gridList:{minHeight:200,maxHeight:300,overflowY:\"auto\"},icon:{color:\"\".concat(Object(T.fade)(tr,.54))},buttonClass:{backgroundColor:\"\".concat(Object(T.fade)(tr,0)),border:\"2px solid #dadada\",outline:\"none\",borderRadius:\"7px\",borderColor:\"#9ecaed\",marginLeft:\"15px\",marginRight:\"15px\"}}}));function nr(e){var t=[],r=0,n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done);n=!0){var c=o.value;if(r>4)break;!c||!c.file||c.uri&&c.isUploaded||(t.push(c),r++)}}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return t}var ar=function(){var e=rr({}),t=Object(o.useParams)().id,r=er(Object(a.useState)(!1),2),n=r[0],l=r[1],s=Object(I.useFormikContext)(),u=s.values,m=s.setFieldValue,d=er(Object(a.useState)([]),2),f=d[0],g=d[1],b=er(Object(a.useState)(u.listingDetails.images.length>0?0:null),2),y=b[0],v=b[1];Object(a.useEffect)((function(){var e=new AbortController;return function(){var e=Zt(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==nr(u.listingDetails.images).length){e.next=5;break}return t=u.listingDetails.images.filter((function(e){return!e.error})),m(\"listingDetails.images\",t),e.abrupt(\"return\");case 5:res.find((function(e){return null==e?void 0:e.error}))&&l(!0),m(\"listingDetails.images\",res);case 8:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),function(){e.abort()}}),[u.listingDetails.images,u.listingUri,m]);var h=function(){var e=Zt(regeneratorRuntime.mark((function e(r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qt(r,t);case 2:n=e.sent,m(\"listingDetails.images\",u.listingDetails.images.filter((function(e){return!n.includes(e.uri)})));case 4:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return i.a.createElement(c.a,{item:!0,xs:12},i.a.createElement(A.a,null,i.a.createElement(oe.a,{title:\"Images\",className:e.cardHeader}),i.a.createElement(ce.a,null,i.a.createElement(c.a,{container:!0,className:e.containerStyle,spacing:2},i.a.createElement(Te.a,{open:n,onClose:function(){return l(!1)},\"aria-labelledby\":\"Error\",\"aria-describedby\":\"Some Images could not be uploaded. Please try again!\"},i.a.createElement(We.a,{id:\"alert-dialog-title\"},\"Error\"),i.a.createElement(Le.a,null,i.a.createElement(Me.a,{id:\"alert-dialog-description\"},\"Some Images could not be uploaded. Please try again!\")),i.a.createElement(Fe.a,null,i.a.createElement(p.a,{onClick:function(){return l(!1)},color:\"primary\"},\"OK\"))),i.a.createElement(kt,{currentSelectedImageIndex:y}),i.a.createElement(c.a,{item:!0,xs:12,md:6},i.a.createElement(c.a,{container:!0,spacing:2},i.a.createElement(c.a,{item:!0,xs:12},i.a.createElement(Et,{handleOnDrop:function(e){var t=e.map((function(e){var t=e.name+e.size;return u.listingDetails.images&&u.listingDetails.images.find((function(e){return e.id===t}))?null:{uri:\"\",id:t,isPrimary:!1,caption:\"\",preview:URL.createObjectURL(e),name:e.name,fileSize:e.size,isUploading:!0,isUploaded:!1,file:e,error:!1}})).filter(Boolean);m(\"listingDetails.images\",[].concat(Jt(u.listingDetails.images),Jt(t))),v(0)},multipleFiles:!0,name:\"IMAGES\",fileTypes:[\"image/jpeg\",\"image/jpg\",\"image/png\"]})),i.a.createElement(c.a,{item:!0,xs:12},i.a.createElement(Ie.a,{spacing:10,cols:3,cellHeight:90,className:e.gridList},u.listingDetails.images.map((function(e,t){var r=t===y,n=f.includes(e.uri);return i.a.createElement(yt,{i:t,cols:1,key:t,onCurrentImageClick:function(){v(t)},handleToggleFromGroupSelect:function(){var t,r;t=e.uri,r=f.find((function(e){return e===t})),g(r?f.filter((function(e){return e!==t})):[].concat(Jt(f),[t]))},isSelected:r,isGroupSelected:n,image:e})})))),i.a.createElement(c.a,{item:!0,xs:12},i.a.createElement(\"div\",null,i.a.createElement(p.a,{className:e.buttonClass},\"Select All\"),i.a.createElement(p.a,{disabled:0===f.length,className:e.buttonClass,onClick:function(){h(f)}},\"Delete\")))))))))},ir=(r(236),r(188)),or=r.n(ir),lr=r(189),cr=r.n(lr),sr=r(177),ur=r.n(sr),mr=r(174),pr=r.n(mr),dr=r(170),fr=r.n(dr),gr=r(190),br=r.n(gr);function yr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function vr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}()}function Or(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Er(e,t){var r=e.name,n=Or(e,[\"name\"]),a=Object(I.useField)(r);return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yr(Object(r),!0).forEach((function(t){vr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},hr(a,1)[0],{},n,{},null==t?void 0:t(a))}function jr(e){return a.createElement(br.a,Er(e))}r(244);function wr(){return(wr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function xr(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Pr,Sr=function(e){var t=e.children,r=e.value,n=e.index,a=e.name,o=xr(e,[\"children\",\"value\",\"index\",\"name\"]);return i.a.createElement(\"div\",wr({role:\"tabpanel\",hidden:r!==n,id:\"\".concat(a,\"-tabpanel-\").concat(n),\"aria-labelledby\":\"\".concat(a,\"-tab-\").concat(n)},o),r===n&&i.a.createElement(\"div\",null,t))},Dr=r(1),kr=f()((function(e){return{flexGrid:{display:\"flex\"}}})),Cr=function(e){var t=e.direction,r=e.name,a=e.unit,o=kr({}).flexGrid,l=a===n.IMPERIAL?\"ft\":\"m\",c=a===n.IMPERIAL?\"in\":\"cm\";return i.a.createElement(Dr.Grid,{container:!0,spacing:2},i.a.createElement(Dr.Grid,{item:!0,xs:6,className:o},i.a.createElement(ve,{name:\"\".concat(r,\".\").concat(t,\".main\"),label:\"\".concat(t,\"-\").concat(l),InputProps:{endAdornment:i.a.createElement(Dr.InputAdornment,{position:\"end\"},l)},\"data-testid\":\"width-main\"})),i.a.createElement(Dr.Grid,{item:!0,xs:6,className:o},i.a.createElement(ve,{name:\"\".concat(r,\".\").concat(t,\".sub\"),label:\"\".concat(t,\"-\").concat(c),InputProps:{endAdornment:i.a.createElement(Dr.InputAdornment,{position:\"end\"},c)},\"data-testid\":\"width-sub\"})))};!function(e){e.WIDTH=\"width\",e.LENGTH=\"length\"}(Pr||(Pr={}));var Ir=f()((function(e){return{title:{textTransform:\"uppercase\"},expand:{transform:\"rotate(0deg)\",marginLeft:\"auto\",transition:e.transitions.create(\"transform\",{duration:e.transitions.duration.shortest})},expandOpen:{transform:\"rotate(180deg)\"},tabWrapper:{flexDirection:\"row-reverse\",\"&> *:first-child\":{marginBottom:\"0!important\",marginLeft:e.spacing(1)}},TabPanelRoot:{padding:e.spacing(4,2)},RadioGroupRoot:{flexDirection:\"row\"}}})),Rr=function(e){var t=e.tabValue,r=Ir({}).TabPanelRoot,n=Object(I.useFormikContext)();return i.a.createElement(i.a.Fragment,null,n.values.listingDetails.descriptions.rooms.map((function(e,a){var o=\"\"!==e.title?e.title:\"Room \".concat(a+1);return i.a.createElement(Sr,{className:r,key:e.id,name:o.replace(\" \",\"-\"),value:t,index:e.id},i.a.createElement(c.a,{container:!0,spacing:3},i.a.createElement(c.a,{item:!0,xs:12,md:6},i.a.createElement(ve,{fullWidth:!0,label:\"Name of room\",name:\"listingDetails.descriptions.rooms[\".concat(a,\"].title\"),placeholder:\"Room 1\",InputLabelProps:{shrink:!0}})),i.a.createElement(c.a,{item:!0,xs:12,md:6},i.a.createElement(c.a,{container:!0,spacing:2},i.a.createElement(c.a,{item:!0,xs:6},i.a.createElement(Cr,{direction:Pr.WIDTH,name:\"listingDetails.descriptions.rooms[\".concat(a,\"].measurements\"),unit:n.values.listingDetails.descriptions.measurementUnit})),i.a.createElement(c.a,{item:!0,xs:6},i.a.createElement(Cr,{direction:Pr.LENGTH,name:\"listingDetails.descriptions.rooms[\".concat(a,\"].measurements\"),unit:n.values.listingDetails.descriptions.measurementUnit})))),i.a.createElement(c.a,{item:!0,xs:12},i.a.createElement(ve,{disabled:n.isSubmitting,multiline:!0,rows:10,fullWidth:!0,label:\"\".concat(o,\" description\"),spellCheck:\"true\",\"aria-label\":\"\".concat(o,\" description\"),name:\"listingDetails.descriptions.rooms[\".concat(a,\"].description\"),placeholder:\"Add details about the room...\"})),i.a.createElement(c.a,{item:!0,xs:12},i.a.createElement(p.a,{color:\"primary\",variant:\"contained\",onClick:function(){return e=o,void console.log(\"\".concat(e,\" description was saved\"));var e}},\"Save changes to this description\"))))})))},Ar=(r(252),r(253),r(208)),Tr=r.n(Ar),Nr=r(209),Fr=r.n(Nr),Hr=r(191),Lr=r.n(Hr),Br=r(210),Mr=r.n(Br),Ur=function(e){var t=e.onClose,r=e.isOpen,n=e.removeRoom,a=e.roomTitle,o=e.roomId;return i.a.createElement(Te.a,{open:r,onClose:t,\"aria-labelledby\":\"alert-dialog-title\",\"aria-describedby\":\"alert-dialog-description\"},i.a.createElement(We.a,{id:\"alert-dialog-title\"},\"'WARNING'\"),i.a.createElement(Le.a,null,i.a.createElement(Me.a,{id:\"alert-dialog-description\"},\"Are you sure you want to delete\",\" \",i.a.createElement(\"i\",null,i.a.createElement(\"b\",null,a)))),i.a.createElement(Fe.a,null,i.a.createElement(p.a,{onClick:function(){return n(o),void t()},color:\"primary\"},\"Yes\"),i.a.createElement(p.a,{onClick:t,color:\"primary\"},\"No\")))},Wr=(r(245),r(255),r(211)),Gr=r(212);function zr(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}()}function Vr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Yr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _r(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}()}function $r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}()}function Kr(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var qr=Object(a.forwardRef)((function(e,t){var r=e.childWidth,n=e.children,o=e.appendComponent,l=e.shadow,c=void 0===l?5:l,s=e.setValue,u=e.onOrderChange,m=e.order,p=void 0===m?[]:m,d=Kr(e,[\"childWidth\",\"children\",\"appendComponent\",\"shadow\",\"setValue\",\"onOrderChange\",\"order\"]),f=Object(a.useRef)(p||a.Children.map(n,(function(e,t){return t}))),g=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;return function(o){return t&&o===n?{x:Number(a)*Number(r)+Number(i),scale:1,zIndex:\"1\",shadow:c,immediate:Boolean((function(e){return\"x\"===e||\"zIndex\"===e}))}:{x:e.indexOf(o)*Number(r),scale:1,zIndex:\"0\",shadow:0,immediate:!1}}},b=a.Children.count(n),y=$r(Object(Wr.useSprings)(b,g(f.current)),2),v=y[0],h=y[1];Object(a.useImperativeHandle)(t,(function(){return{addTab:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f.current.length;f.current=[].concat(_r(f.current.slice(0,e)),[e],_r(f.current.slice(e))),u&&u(f.current)},removeTab:function(e){var t=f.current.indexOf(e);f.current=[].concat(_r(f.current.slice(0,t)),_r(f.current.slice(t+1))).map((function(t){return t<e?t:t-1})),u&&u(f.current)}}}));var O=Object(Gr.useGesture)({onDrag:function(e){var t,n,a,i,o=$r(e.args,1)[0],l=e.down,c=$r(e.movement,1)[0],s=null==f?void 0:null===(t=f.current)||void 0===t?void 0:t.indexOf(o),m=n=(n=(n=Math.round((Number(s)*r+c)/r))<=(i=b-1)?n:i)>=(a=0)?n:a,p=function(e,t,r){var n=e[t],a=e.length,i=t-r;if(i>0)return[].concat(zr(e.slice(0,r)),[n],zr(e.slice(r,t)),zr(e.slice(t+1,a)));if(i<0){var o=r+1;return[].concat(zr(e.slice(0,t)),zr(e.slice(t+1,o)),[n],zr(e.slice(o,a)))}return e}(f.current||[],Number(s),m);h(g(p,l,o,s,c)),l||(f.current=p,u&&u(f.current))}});return i.a.createElement(Dr.Tabs,d,v.map((function(e,t){var i=e.zIndex,o=e.shadow,l=e.x,c=e.scale;return n&&n[t]?Object(a.cloneElement)(n[t],function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vr(Object(r),!0).forEach((function(t){Yr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},O(t),{component:Wr.animated.div,onMouseDownCapture:function(){s(n[t].props.value)},key:t,style:{marginLeft:t?\"-\".concat(r,\"px\"):\"0px\",zIndex:i,boxShadow:o.interpolate((function(e){return\"rgba(0, 0, 0, 0.15) 0px \".concat(e,\"px \").concat(2*e,\"px 0px\")})),transform:Object(Wr.interpolate)([l,c],(function(e,t){return\"translate3d(\".concat(e,\"px, 0, 0) scale(\").concat(t,\")\")}))}})):null})),o&&Object(a.cloneElement)(o,{style:{marginLeft:\"\".concat(Math.max(r*(a.Children.count(n)-1),0),\"px\")}}))}));function Qr(){return(Qr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Jr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Xr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}()}function en(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}()}var tn=\"listingDetails.descriptions.rooms\",rn=f()((function(e){return{tabsRoot:{borderBottom:\"1px solid \".concat(e.palette.grey[200])},tabsIndicator:{display:\"none\"},tabLabel:{flexGrow:1},tabRoot:{background:e.palette.background.paper,width:200},tabWrapper:{\"flex-direction\":\"row-reverse\",\"&> *:first-child\":{marginBottom:\"0!important\",marginLeft:e.spacing(1)}},tabSelected:{borderBottom:\"3px solid \".concat(e.palette.primary.main)}}})),nn=function(e){return en(e).sort((function(e,t){return e.displayOrder-t.displayOrder})).map((function(t){return e.findIndex((function(e){return e.id===t.id}))}))},an=function(e,t){return{id:e,title:\"New room\",measurements:{width:{main:0,sub:0},length:{main:0,sub:0}},description:\"\",displayOrder:t}},on=function(e){var t,r,n=e.tabValue,o=e.setTabValue,l=rn({}),c=l.tabsRoot,s=l.tabRoot,u=l.tabLabel,m=l.tabsIndicator,p=l.tabWrapper,d=l.tabSelected,f=Object(a.useRef)(),g=Zr(Object(a.useState)(\"\"),2),b=g[0],y=g[1],v=Object(I.useFormikContext)(),h=Zr(Object(a.useState)((function(){return nn(v.values.listingDetails.descriptions.rooms)})),2),O=h[0],E=h[1],j=v.values.listingDetails.descriptions.rooms,w=Zr(Object(a.useState)(!1),2),x=w[0],P=w[1],D=function(e){y(e),P(!x)};return i.a.createElement(i.a.Fragment,null,x&&i.a.createElement(Ur,{isOpen:x,onClose:function(){P(!1)},roomId:b,removeRoom:function(e){var t=j.filter((function(t){return t.id!==e})),r=j.findIndex((function(t){return t.id===e})),n=O.indexOf(r)-1,a=O[n>=0?n:1]||0;E(nn(t)),v.setFieldValue(tn,t),f.current&&f.current.removeTab(r),o(j[a].id)},roomTitle:null!==(t=null===(r=v.values.listingDetails.descriptions.rooms.find((function(e){return e.id===b})))||void 0===r?void 0:r.title)&&void 0!==t?t:\"\"}),i.a.createElement(qr,{className:c,value:n,ref:f,childWidth:200,setValue:o,onOrderChange:function(e){if(e.length===j.length){var t=j.map((function(t,r){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Jr(Object(r),!0).forEach((function(t){Xr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,{displayOrder:e.indexOf(r)})}));v.setFieldValue(tn,t),E(e)}},order:O,appendComponent:i.a.createElement(Fr.a,{classes:{wrapper:p,selected:d},label:i.a.createElement(S.a,{className:u,noWrap:!0,variant:\"button\",color:\"primary\"},\"Add New\"),value:\"add\",icon:i.a.createElement(Mr.a,{color:\"primary\"}),onClick:function(){var e=Tr()(),t=[].concat(en(j),[an(e,j.reduce((function(e,t){return e<t.displayOrder?t.displayOrder+1:e}),0))]);o(e),E(nn(t)),v.setFieldValue(tn,t),f.current&&f.current.addTab()}}),classes:{indicator:m},onChange:function(e,t){o(t)},\"aria-label\":\"Property description sections\",scrollButtons:\"auto\",indicatorColor:\"primary\",textColor:\"primary\",variant:\"scrollable\"},j.map((function(e,t){var r=\"\"!==e.title?e.title:\"Room \".concat(t+1),n={label:i.a.createElement(S.a,{className:u,noWrap:!0,variant:\"button\"},r),id:\"\".concat(r.replace(\" \",\"-\"),\"-tab-\").concat(t),\"aria-controls\":\"\".concat(r,\"-tabpanel-\").concat(t)};return i.a.createElement(Fr.a,Qr({classes:{root:s,wrapper:p,selected:d},\"data-testid\":\"room-tab\",component:\"div\",key:e.id,value:e.id,icon:j.length>0?i.a.createElement(Ze.a,{\"aria-label\":\"Delete \".concat(r,\" tab\"),onClick:function(t){D(e.id),t.stopPropagation()}},i.a.createElement(Lr.a,null)):void 0,onKeyDownCapture:function(t){return function(e,t){e.stopPropagation(),(\"Backspace\"===e.key||\"Delete\"===e.key)&&D(t)}(t,e.id)}},n))}))))};function ln(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}()}function cn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}()}var sn=f()((function(e){return{title:{textTransform:\"uppercase\"},expand:{transform:\"rotate(0deg)\",marginLeft:\"auto\",transition:e.transitions.create(\"transform\",{duration:e.transitions.duration.shortest})},expandOpen:{transform:\"rotate(180deg)\"},tabWrapper:{\"flex-direction\":\"row-reverse\",\"&> *:first-child\":{marginBottom:\"0!important\"}},RadioGroupRoot:{margin:e.spacing(4,0,3),flexDirection:\"row\"}}})),un=function(){var e=sn({}),t=e.title,r=e.expand,o=e.expandOpen,l=e.RadioGroupRoot,s=Object(I.useFormikContext)(),u=cn(Object(a.useState)(!0),2),m=u[0],p=u[1],d=cn(Object(a.useState)((function(){var e;return(null===(e=ln(s.values.listingDetails.descriptions.rooms).sort((function(e,t){return e.displayOrder-t.displayOrder}))[0])||void 0===e?void 0:e.id)||\"add\"})),2),f=d[0],g=d[1];return i.a.createElement(A.a,null,i.a.createElement(oe.a,{title:\"Description\",className:t,action:i.a.createElement(Ze.a,{className:m?\"\".concat(r,\" \").concat(o):r,\"aria-expanded\":m,\"aria-label\":m?\"show less\":\"show more\",onClick:function(){p(!m)}},i.a.createElement(cr.a,null))}),i.a.createElement(ce.a,null,i.a.createElement(or.a,{in:m},i.a.createElement(c.a,{container:!0},i.a.createElement(c.a,{item:!0,xs:12},i.a.createElement(ve,{label:\"General Summary\",multiline:!0,rows:10,disabled:s.isSubmitting,fullWidth:!0,spellCheck:\"true\",\"aria-label\":\"property summary\",name:\"listingDetails.descriptions.summary\",placeholder:\"Add general details about the property...\"})),i.a.createElement(c.a,{item:!0,xs:12},i.a.createElement(ur.a,{component:\"fieldset\"},i.a.createElement(jr,{\"aria-label\":\"units\",name:\"listingDetails.descriptions.measurementUnit\",classes:{root:l}},i.a.createElement(fr.a,{value:n.METRIC,control:i.a.createElement(pr.a,null),label:\"Metric measurements\",labelPlacement:\"start\"}),i.a.createElement(fr.a,{value:n.IMPERIAL,control:i.a.createElement(pr.a,null),label:\"Imperial measurements\",labelPlacement:\"start\"}))))),i.a.createElement(on,{tabValue:f,setTabValue:g}),i.a.createElement(Rr,{tabValue:f}))))},mn=r(213),pn=r.n(mn);function dn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}()}function bn(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function yn(e,t){var r=e.disabled,n=e.name,a=bn(e,[\"disabled\",\"name\"]),i=Object(I.useFormikContext)().isSubmitting,o=Object(I.useField)(n),l=gn(o,1)[0];return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dn(Object(r),!0).forEach((function(t){fn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({disabled:null!=r?r:i},a,{},l,{checked:l.value,value:l.value?\"checked\":\"\"},null==t?void 0:t(o))}function vn(e){return a.createElement(pn.a,yn(e))}var hn=f()((function(e){return{title:{textTransform:\"uppercase\"}}})),On=function(){var e=hn({}).title,t=Object(I.useFormikContext)().values;return i.a.createElement(A.a,null,i.a.createElement(oe.a,{title:\"Checklist\",className:e}),i.a.createElement(ce.a,null,i.a.createElement(c.a,{container:!0,spacing:3},i.a.createElement(c.a,{item:!0,xs:12},i.a.createElement(fr.a,{label:\"I confirm I have seen photo ID and a current utility bill for the customer\",control:i.a.createElement(vn,{required:!0,name:\"listingDetails.compliance.confirmedId\"})})),i.a.createElement(c.a,{item:!0,xs:12},i.a.createElement(fr.a,{label:\"Advanced marketing pack sent to customer\",control:i.a.createElement(vn,{required:!0,name:\"listingDetails.sentAdvancedMarketingPack\"})})),i.a.createElement(c.a,{item:!0,xs:12},i.a.createElement(fr.a,{label:\"Agent has keys for property\",control:i.a.createElement(vn,{required:!0,name:\"listingDetails.agencyHasKeys\"})})),t.listingDetails.agencyHasKeys&&i.a.createElement(c.a,{item:!0,xs:4,sm:6,md:6},i.a.createElement(ve,{fullWidth:!0,label:\"Reference number for keys (if any)\",name:\"listingDetails.agencyKeysRef\",placeholder:\"12345456\",InputLabelProps:{shrink:!0}})))))},En=r(214),jn=r.n(En),wn=r(215),xn=r.n(wn),Pn=r(216),Sn=r.n(Pn),Dn=r(217),kn=r.n(Dn),Cn=r(69);function In(){return(In=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Rn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function An(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Rn(Object(r),!0).forEach((function(t){Tn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Tn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}()}function Fn(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Hn=Object(Cn.makeStyles)((function(e){return{chip:{},chipLabel:{display:\"flex\",alignItems:\"center\",justifyContent:\"center\"},input:{fontSize:\"inherit\"},iconButtonLabel:{height:0,color:e.palette.action.disabled,\"&:hover\":{color:e.palette.action.active}},editIcon:{flexShrink:1}}})),Ln=function(e){var t,r=e.value,n=e.onEdit,o=e.name,l=e.InputProps,c=e.inputProps,s=Fn(e,[\"value\",\"onEdit\",\"name\",\"InputProps\",\"inputProps\"]),u=Object(a.useRef)(null),m=Hn({}),p=Nn(Object(a.useState)(!1),2),d=p[0],f=p[1],g=Nn(Object(a.useState)(r||\"\"),2),b=g[0],y=g[1];Object(a.useEffect)((function(){d&&u.current&&u.current.focus()}),[d]);return i.a.createElement(jn.a,In({},s,{classes:An({},s.classes,{label:ze()(null===(t=s.classes)||void 0===t?void 0:t.label,m.chipLabel)}),avatar:i.a.createElement(Ze.a,{classes:{label:m.iconButtonLabel},edge:\"start\",size:\"small\",onClick:function(){return f(!d)}},d?i.a.createElement(Sn.a,{className:m.editIcon}):i.a.createElement(kn.a,{className:m.editIcon})),variant:d?\"outlined\":\"default\",label:i.a.createElement(xn.a,In({id:o,name:o,inputRef:u,className:m.input,disabled:!d,disableUnderline:!0,onChange:function(e){var t=e.target.value;y(t),n&&n(e,t)},onDoubleClick:function(){return f(!0)},onKeyPress:function(e){\"Enter\"===e.key&&f(!1)},onBlur:function(){f(!1)},value:b,inputProps:An({size:Math.max(b.length,5)},c)},l))}))};function Bn(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}()}function Mn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}()}var Un=Object(T.makeStyles)((function(e){return{chip:{margin:e.spacing(.5)},expand:{transform:\"rotate(0deg)\",marginLeft:\"auto\",transition:e.transitions.create(\"transform\",{duration:e.transitions.duration.shortest})},keyFeaturesWarningMessage:{background:\"\".concat(Je.a[100]),color:\"\".concat(Je.a[600])},expandOpen:{transform:\"rotate(180deg)\"}}})),Wn=Object(U.string)().max(100),Gn=function(){var e,t=Un({}),r=Mn(Object(a.useState)(!0),2),n=r[0],o=r[1],l=Object(I.useFormikContext)(),s=l.values,u=l.setFieldValue,m=Mn(Object(a.useState)({value:\"\",error:null}),2),p=m[0],d=m[1];return i.a.createElement(A.a,null,i.a.createElement(oe.a,{title:\"Key Features\",action:i.a.createElement(Ze.a,{className:n?\"\".concat(t.expand,\" \").concat(t.expandOpen):t.expand,\"aria-expanded\":n,\"aria-label\":n?\"show less\":\"show more\",onClick:function(){o(!n)}},i.a.createElement(cr.a,null))}),i.a.createElement(ce.a,null,i.a.createElement(or.a,{in:n},i.a.createElement(c.a,{\"aria-label\":\"Add new feature area\",container:!0,spacing:4},i.a.createElement(c.a,{item:!0,xs:12},i.a.createElement(Pe.a,{severity:\"info\"},\"Only the first 10 features will display in an online advert!\")),i.a.createElement(c.a,{item:!0,xs:12},i.a.createElement(c.a,{container:!0,spacing:3},i.a.createElement(c.a,{item:!0,xs:12},i.a.createElement(S.a,{variant:\"h5\"},\"Add features\")),i.a.createElement(c.a,{item:!0,xs:12},i.a.createElement(pe.a,{error:!!p.error,helperText:null===(e=p.error)||void 0===e?void 0:e.errors[0],variant:\"outlined\",label:\"Feature\",value:p.value,onKeyPress:function(e){!function(e){if(\"Enter\"===e.key&&p.value.length>0){var t={order:s.listingDetails.keyFeatures.length,feature:p.value};u(\"listingDetails.keyFeatures\",[].concat(Bn(s.listingDetails.keyFeatures),[t])),d({value:\"\",error:null})}}(e)},onChange:function(e){!function(e){try{Wn.validateSync(e),d({value:e,error:null})}catch(t){d({value:e,error:t})}}(e.target.value)},id:\"new-feature-field\",placeholder:\"Add a feature\"})),i.a.createElement(c.a,{item:!0,xs:12},s.listingDetails.keyFeatures.sort((function(e,t){return e.order-t.order})).map((function(e,r){return i.a.createElement(Ln,{key:r,name:\"listingDetails.keyFeatures[\".concat(r,\"]\"),\"data-testid\":\"feature \".concat(r),value:e.feature,onDelete:function(){u(\"listingDetails.keyFeatures\",s.listingDetails.keyFeatures.filter((function(t){return t.feature!==e.feature})))},className:t.chip})})))))))))},zn=r(218),Vn=r.n(zn),Yn=r(192),_n=r(219),$n=r.n(_n),Kn=r(193),qn=r.n(Kn),Qn=r(220),Jn=r.n(Qn);function Xn(){return(Xn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Zn(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var ea=function(e){var t=e.field,r=e.form,n=Zn(e,[\"field\",\"form\"]);return i.a.createElement(Yn.KeyboardDatePicker,Xn({autoOk:!0,name:t.name,value:t.value,keyboardIcon:i.a.createElement(qn.a,{\"data-testid\":\"open-calendar-icon \".concat(t.name)}),onChange:function(e){return r.setFieldValue(t.name,e)}},n))},ta=f()((function(e){return{title:{textTransform:\"uppercase\"},warningMessagePadding:{paddingTop:e.spacing(5)}}})),ra=function(){var e=ta({}),t=Object(I.useFormikContext)().values,r=!!t.listingDetails.compliance.competitorAgreementExpiry;return i.a.createElement(Yn.MuiPickersUtilsProvider,{utils:Vn.a},i.a.createElement(A.a,null,i.a.createElement(oe.a,{title:\"Compliance\",className:e.title}),i.a.createElement(ce.a,null,i.a.createElement(c.a,{container:!0,spacing:5},i.a.createElement(c.a,{item:!0,xs:12},i.a.createElement(fr.a,{label:\"I have seen the Land Registry confirmation that confirms this customer is the owner of the property\",control:i.a.createElement(vn,{required:!0,name:\"listingDetails.compliance.confirmedLandRegistryOwnership\"})})),i.a.createElement(c.a,{item:!0,xs:12,md:6},i.a.createElement(ve,{label:\"Link to Land Registry documents\",name:\"listingDetails.compliance.landRegistryDocsUri\",placeholder:\"https://landregistry.data.gov.uk/\",fullWidth:!0})),i.a.createElement(c.a,{item:!0,xs:12},i.a.createElement(c.a,{container:!0,spacing:5},i.a.createElement(c.a,{item:!0,xs:12,md:4},i.a.createElement(c.a,{container:!0,spacing:2},i.a.createElement(c.a,{item:!0,xs:12},i.a.createElement(S.a,null,\"Agency Agreement Date\")),i.a.createElement(c.a,{item:!0,xs:12},i.a.createElement(pe.a,{variant:\"outlined\",fullWidth:!0,disabled:!0,label:\"Agreement Date\",InputProps:{startAdornment:i.a.createElement($n.a,{position:\"start\"},i.a.createElement(qn.a,null))},id:\"agreement-period\",value:\"\".concat(Jn()(new Date(t.listingDetails.compliance.agencyAgreementSignedDate),\"dd/MM/yyyy\")),placeholder:\"DD/MM/YYYY\"})))),i.a.createElement(c.a,{item:!0,xs:12,md:4},i.a.createElement(c.a,{container:!0,spacing:2},i.a.createElement(c.a,{item:!0,xs:12},i.a.createElement(S.a,null,\"Agreement Period\")),i.a.createElement(c.a,{item:!0,xs:12},i.a.createElement(pe.a,{disabled:!0,fullWidth:!0,id:\"Period\",label:\"Period\",value:\"\".concat(t.listingDetails.compliance.agencyAgreementPeriod,\" Weeks\"),variant:\"outlined\"})))),i.a.createElement(c.a,{item:!0,xs:12,md:4},i.a.createElement(c.a,{container:!0,spacing:2},i.a.createElement(c.a,{item:!0,xs:12},i.a.createElement(S.a,null,\"Agreement Expiry Date\")),i.a.createElement(c.a,{item:!0,xs:12},i.a.createElement(I.Field,{fullWidth:!0,label:\"Agreement Expires on\",format:\"dd/MM/yyyy\",id:\"competitor-expiry-date\",name:\"listingDetails.compliance.competitorAgreementExpiry\",component:ea,variant:\"inline\",inputVariant:\"outlined\",placeholder:\"DD/MM/YYYY\",minDate:new Date,disablePast:!0,InputAdornmentProps:{position:\"start\"}}))))))),i.a.createElement(c.a,{className:e.warningMessagePadding,item:!0,xs:12},r&&i.a.createElement(Pe.a,{severity:\"warning\"},\"Placeholder message for agent to warn customer of contract breach\")))))},na=f()((function(e){return{title:{textTransform:\"uppercase\"},viewingOption:{textTransform:\"capitalize\"},radioGroupRoot:{\"flex-direction\":\"row\"},radioGroupTypograpghyStyle:{padding:e.spacing(1)}}})),aa=[\"accompanied\",\"combined\",\"unaccompanied\"],ia=function(){var e=na({}),t=Object(I.useFormikContext)(),r=t.values,n=t.setFieldValue;return i.a.createElement(A.a,null,i.a.createElement(oe.a,{title:\"Viewing Rules\",className:e.title}),i.a.createElement(ce.a,null,i.a.createElement(c.a,{container:!0,spacing:4},i.a.createElement(c.a,{item:!0,xs:12},i.a.createElement(c.a,{container:!0,spacing:3},i.a.createElement(c.a,{item:!0,xs:12,md:4},i.a.createElement(S.a,{className:e.radioGroupTypograpghyStyle},\"Same day viewing appointments allowed\")),i.a.createElement(c.a,{item:!0,xs:12,md:2},i.a.createElement(br.a,{\"aria-label\":\"same-day-confirmation-radio-group\",value:!0===r.listingDetails.viewingRules.sameDay?\"Yes\":\"No\",row:!0,onChange:function(e,t){n(\"listingDetails.viewingRules.sameDay\",\"Yes\"===t)}},i.a.createElement(fr.a,{value:\"Yes\",control:i.a.createElement(pr.a,{color:\"primary\"}),label:\"Yes\",labelPlacement:\"start\"}),i.a.createElement(fr.a,{value:\"No\",control:i.a.createElement(pr.a,{color:\"primary\"}),label:\"No\",labelPlacement:\"start\"}))))),i.a.createElement(c.a,{item:!0,xs:12,md:6},i.a.createElement(ve,{className:e.viewingOption,label:\"Type of viewing appointments\",name:\"listingDetails.viewingRules.type\",fullWidth:!0,select:!0,variant:\"outlined\",onChange:function(e){\"unaccompanied\"===e.target.value&&n(\"listingDetails.viewingRules.autoConfirm\",!1),n(\"listingDetails.viewingRules.type\",e.target.value)}},aa.map((function(t){return i.a.createElement(ue.a,{className:e.viewingOption,key:t,value:t},t)})))),i.a.createElement(c.a,{item:!0,xs:12},i.a.createElement(c.a,{container:!0,alignItems:\"center\"},i.a.createElement(c.a,{item:!0},\"Auto-confirm viewing appointments?\"),i.a.createElement(c.a,{item:!0},i.a.createElement(br.a,{\"aria-label\":\"Auto confirm viewing appointments\",name:\"listingDetails.viewingRules.autoConfirm\",classes:{root:e.radioGroupRoot},value:r.listingDetails.viewingRules.autoConfirm?\"Yes\":\"No\",onChange:function(e){n(\"listingDetails.viewingRules.autoConfirm\",\"Yes\"===e.target.value)}},i.a.createElement(fr.a,{value:\"Yes\",control:i.a.createElement(pr.a,null),label:\"Yes\",labelPlacement:\"start\",disabled:\"unaccompanied\"===r.listingDetails.viewingRules.type}),i.a.createElement(fr.a,{value:\"No\",control:i.a.createElement(pr.a,null),label:\"No\",labelPlacement:\"start\",disabled:\"unaccompanied\"===r.listingDetails.viewingRules.type}))))))))},oa=r(221),la=r.n(oa),ca=Ye.a[400],sa=f()((function(e){return{root:{marginTop:e.spacing(6),display:\"block\",overflow:\"hidden\",position:\"relative\",borderWidth:2,borderRadius:\"2px\",borderStyle:\"solid\",borderColor:ca},img:{maxWidth:\"100%\",maxHeight:\"100%\"},imgOverlay:{position:\"absolute\",left:0,top:0,width:\"100%\",height:\"100%\",opacity:1,zIndex:2,backgroundColor:\"\".concat(Object(T.fade)(ca,.8)),display:\"flex\",alignItems:\"center\",justifyContent:\"center\"},imageContainer:{position:\"relative\"},deleteButton:{position:\"absolute\",right:\"-26px\",top:\"-26px\",zIndex:4}}})),ua=i.a.forwardRef((function(e,t){var r=sa({});return e.image.uri||e.image.preview?i.a.createElement(\"div\",null,i.a.createElement(\"div\",{className:ze()(r.imageContainer)},i.a.createElement(\"div\",{className:ze()(r.root)},i.a.createElement(\"img\",{src:e.image.preview||\"\".concat(\"#{API_BASE_URL}/files\",\"/\").concat(e.image.uri),alt:e.image.name||\"something went wrong\",\"data-testid\":\"preview-image\",ref:t,className:r.img}),e.image.isUploading&&i.a.createElement(\"div\",{className:r.imgOverlay},i.a.createElement(v.a,{\"data-testid\":\"thumb-spinner\"}))),i.a.createElement(Ze.a,{className:r.deleteButton,color:\"primary\",\"aria-label\":\"delete image\",onClick:e.handleDeleteImage},i.a.createElement(la.a,{fontSize:\"large\",\"data-testid\":\"delete-icon\"}))),i.a.createElement(\"span\",null,e.image.name)):null}));ua.muiName=\"Image\";var ma=function(e){var t=Object.assign({},e);return i.a.createElement(ua,t)};function pa(e,t,r,n,a,i,o){try{var l=e[i](o),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,a)}var da=f()((function(e){return{root:{padding:\"2px\"},mediaLabel:{fontWeight:\"bold\",marginBottom:e.spacing(1)},warningMessagePadding:{paddingTop:e.spacing(5)}}})),fa=function(){var e=da({}),t=Object(I.useFormikContext)(),r=t.values,n=t.setFieldValue,o=\"listingDetails.floorPlan.image\";Object(a.useEffect)((function(){var e=new AbortController;return function(){var t,a=(t=regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(a=r.listingDetails.floorPlan.image)||a.uri||!a.isUploading){t.next=6;break}return t.next=4,Qt(r.listingDetails.floorPlan.image,null,e);case 4:i=t.sent,n(o,i);case 6:case\"end\":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,a){var i=t.apply(e,r);function o(e){pa(i,n,a,o,l,\"next\",e)}function l(e){pa(i,n,a,o,l,\"throw\",e)}o(void 0)}))});return function(){return a.apply(this,arguments)}}()(),function(){e.abort()}}),[r.listingDetails.floorPlan.image,n]);return i.a.createElement(A.a,null,i.a.createElement(oe.a,{title:\"OTHER MEDIA\"}),i.a.createElement(ce.a,null,i.a.createElement(c.a,{container:!0,spacing:3},i.a.createElement(c.a,{item:!0,xs:12,md:6},i.a.createElement(S.a,{className:e.mediaLabel},\"Embed a 360° tour\"),i.a.createElement(ve,{name:\"listingDetails.tour\",placeholder:\"e.g. https://my.matterport.com/show/?m=1234567890\",variant:\"outlined\",fullWidth:!0})),i.a.createElement(c.a,{item:!0,xs:12,md:6},i.a.createElement(S.a,{className:e.mediaLabel},\"Embed an audio tour\"),i.a.createElement(ve,{name:\"listingDetails.video\",placeholder:\"e.g. https://www.vimeo.com/yourtour-123456\",variant:\"outlined\",fullWidth:!0})),i.a.createElement(c.a,{item:!0,xs:12,md:6},i.a.createElement(S.a,{className:e.mediaLabel},\"Metropix Floorplan Code\"),i.a.createElement(ve,{name:\"listingDetails.floorPlan.code\",placeholder:\"e.g. 123456\",variant:\"outlined\",fullWidth:!0})),i.a.createElement(c.a,{item:!0,xs:12,md:6},i.a.createElement(S.a,{className:e.mediaLabel},\"Upload a Floorplan\"),i.a.createElement(Et,{handleOnDrop:function(e){var t={uri:\"\",id:e[0].name+e[0].size,name:e[0].name,fileSize:e[0].size,preview:URL.createObjectURL(e[0]),isUploading:!0,isUploaded:!1,error:!1,file:e[0]};n(o,t)},multipleFiles:!1,name:\"FLOORPLAN\",fileTypes:[\"image/jpeg\",\"image/png\"],classes:{root:e.root}}),r.listingDetails.floorPlan.image&&i.a.createElement(ma,{image:r.listingDetails.floorPlan.image,handleDeleteImage:function(){n(o,{uri:\"\",name:\"\",fileSize:0})}})),i.a.createElement(c.a,{className:e.warningMessagePadding,item:!0,xs:12},r.listingDetails.floorPlan.code&&r.listingDetails.floorPlan.image&&r.listingDetails.floorPlan.image.uri&&i.a.createElement(Pe.a,{severity:\"warning\"},\"The metropix floorplan will be displayed instead of your image upload\")))))},ga=f()((function(e){return{ratingLabel:{textTransform:\"uppercase\",fontWeight:e.typography.fontWeightBold},warningMessagePadding:{paddingTop:e.spacing(5)},container:{padding:\"30px\"}}}));var ba=function(e){var t=e.reportType,r=ga({}),n=Object(I.useFormikContext)().values;if(\"epc\"!==t&&\"homeReport\"!==t)return null;var a=n.propertyDetails[t],o=a.eer.current>a.eer.potential||a.eir.current>a.eir.potential;return i.a.createElement(c.a,{container:!0,spacing:3,className:r.container,\"data-testid\":\"energy-ratings\"},i.a.createElement(c.a,{item:!0,sm:12,md:6,lg:4},i.a.createElement(c.a,{container:!0,spacing:2},i.a.createElement(c.a,{item:!0,xs:12},i.a.createElement(S.a,{variant:\"subtitle1\",className:r.ratingLabel},\"Energy efficiency rating\")),i.a.createElement(c.a,{item:!0,xs:12,sm:6},i.a.createElement(ve,{fullWidth:!0,type:\"number\",name:\"propertyDetails.\".concat(t,\".eer.current\"),label:\"Current\"})),i.a.createElement(c.a,{item:!0,xs:12,sm:6},i.a.createElement(ve,{fullWidth:!0,type:\"number\",name:\"propertyDetails.\".concat(t,\".eer.potential\"),label:\"Potential\"})))),i.a.createElement(c.a,{item:!0,sm:12,md:6,lg:4},i.a.createElement(c.a,{container:!0,spacing:2},i.a.createElement(c.a,{item:!0,xs:12},i.a.createElement(S.a,{variant:\"subtitle1\",className:r.ratingLabel},\"Environmental impact rating\")),i.a.createElement(c.a,{item:!0,xs:12,sm:6},i.a.createElement(ve,{fullWidth:!0,type:\"number\",name:\"propertyDetails.\".concat(t,\".eir.current\"),label:\"Current\"})),i.a.createElement(c.a,{item:!0,xs:12,sm:6},i.a.createElement(ve,{fullWidth:!0,type:\"number\",name:\"propertyDetails.\".concat(t,\".eir.potential\"),label:\"Potential\"})))),i.a.createElement(c.a,{className:r.warningMessagePadding,item:!0,xs:12},o&&i.a.createElement(Pe.a,{severity:\"warning\"},\"Current rating should not be greater than potential rating\")))},ya=f()((function(e){return{title:{textTransform:\"uppercase\"},viewingOption:{textTransform:\"capitalize\"},radioGroupRoot:{flexDirection:\"row\"},radioGroupTypographyStyle:{padding:e.spacing(1)}}})),va=function(){var e=ya({}),t=Object(I.useFormikContext)().values;return i.a.createElement(A.a,null,i.a.createElement(oe.a,{title:\"EPC\",className:e.title}),i.a.createElement(ce.a,null,i.a.createElement(c.a,{container:!0,spacing:4},i.a.createElement(c.a,{item:!0,xs:12},i.a.createElement(c.a,{container:!0,spacing:3},i.a.createElement(c.a,{item:!0,xs:12},i.a.createElement(S.a,{className:e.radioGroupTypographyStyle},\"Please choose one of the options below\")),i.a.createElement(c.a,{item:!0,xs:12},i.a.createElement(ur.a,{component:\"fieldset\"},i.a.createElement(jr,{\"aria-label\":\"EPC status selector\",name:\"propertyDetails.epc.status\",row:!0},i.a.createElement(fr.a,{value:\"Received\",control:i.a.createElement(pr.a,{color:\"primary\"}),label:\"EPC received\",labelPlacement:\"start\"}),i.a.createElement(fr.a,{value:\"Applied\",control:i.a.createElement(pr.a,{color:\"primary\"}),label:\"EPC applied for\",labelPlacement:\"start\"}),i.a.createElement(fr.a,{value:\"None\",control:i.a.createElement(pr.a,{color:\"primary\"}),label:\"EPC not yet applied for\",labelPlacement:\"start\"}))))),\"Received\"===t.propertyDetails.epc.status&&i.a.createElement(c.a,{container:!0,spacing:3},i.a.createElement(c.a,{item:!0,xs:12},i.a.createElement(fr.a,{label:\"The EPC is in date and valid\",control:i.a.createElement(vn,{name:\"propertyDetails.epc.isValid\"})})),i.a.createElement(ba,{reportType:\"epc\"}))))))},ha=f()((function(e){return{title:{textTransform:\"uppercase\"},viewingOption:{textTransform:\"capitalize\"},radioGroupRoot:{flexDirection:\"row\"},radioGroupTypographyStyle:{padding:e.spacing(1)}}})),Oa=function(){var e=ha({}),t=Object(I.useFormikContext)().values;return i.a.createElement(A.a,null,i.a.createElement(oe.a,{title:\"Home Report\",className:e.title}),i.a.createElement(ce.a,null,i.a.createElement(c.a,{container:!0,spacing:4},i.a.createElement(c.a,{item:!0,xs:12},i.a.createElement(c.a,{item:!0,xs:12},i.a.createElement(S.a,{className:e.radioGroupTypographyStyle},\"Please choose one of the options below\")),i.a.createElement(c.a,{item:!0,xs:12},i.a.createElement(ur.a,{component:\"fieldset\"},i.a.createElement(jr,{\"aria-label\":\"Home report status selector\",name:\"propertyDetails.homeReport.status\",row:!0},i.a.createElement(fr.a,{value:\"None\",control:i.a.createElement(pr.a,{color:\"primary\"}),label:\"Home report not received\",labelPlacement:\"start\"}),i.a.createElement(fr.a,{value:\"Received\",control:i.a.createElement(pr.a,{color:\"primary\"}),label:\"Home report received\",labelPlacement:\"start\"}),i.a.createElement(fr.a,{value:\"Exempt\",control:i.a.createElement(pr.a,{color:\"primary\"}),label:\"Property exempt from home report\",labelPlacement:\"start\"}))))),\"Received\"===t.propertyDetails.homeReport.status&&i.a.createElement(ba,{reportType:\"homeReport\"}))))},Ea=r(222),ja=r.n(Ea),wa=r(223),xa=r.n(wa),Pa=r(224),Sa=r.n(Pa),Da=r(225),ka=r.n(Da);function Ca(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ia(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}()}var Ra=function(e){var t=e.className,r=e.actions,n=Ia(Object(a.useState)(!1),2),o=n[0],l=n[1];return i.a.createElement(\"div\",{className:t},i.a.createElement(ja.a,{ariaLabel:\"SpeedDial tooltip example\",icon:i.a.createElement(xa.a,{icon:i.a.createElement(ka.a,null),openIcon:i.a.createElement(Lr.a,null)}),onClose:function(){l(!1)},onOpen:function(){l(!0)},open:o},r.map((function(e){e.enabled;var t=Ca(e,[\"enabled\"]);return i.a.createElement(Sa.a,{key:t.name,icon:t.icon,tooltipTitle:t.name,tooltipOpen:!0,onClick:t.onClick})}))))};function Aa(e,t,r,n,a,i,o){try{var l=e[i](o),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,a)}function Ta(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){Aa(i,n,a,o,l,\"next\",e)}function l(e){Aa(i,n,a,o,l,\"throw\",e)}o(void 0)}))}}function Na(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Na(Object(r),!0).forEach((function(t){Ha(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Na(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ha(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var La=Object(T.makeStyles)((function(e){return{saveForm:{position:\"fixed\",right:e.spacing(2),bottom:e.spacing(2)}}})),Ba=function(e,t){var r={main:Math.floor(e),sub:Math.floor(100*(e-Math.floor(e)))};return t===n.METRIC?r:function(e){var t=e.main+e.sub/100,r=t/.3048,n=Math.floor(r),a=t/.0254;return{main:n,sub:Math.round(a-12*n)}}(r)},Ma=function(e,t){var r,a,i,o,l=t===n.METRIC?e:(a=.3048*(r=e).main+.0254*r.sub,i=Math.floor(a),(o=Math.round(100*(a-i)))>=100&&(i++,o-=100),{main:i,sub:o});return l.main+l.sub/100},Ua=function(e){var t=e.listing,r=e.setSaving,n=e.setLastSaved,a=La(),o=t?function(e){return Fa({},e,{listingDetails:Fa({},e.listingDetails,{images:e.listingDetails.images.map((function(e){return Fa({},e,{isUploading:!1,isUploaded:!0,error:!1})})),floorPlan:{code:e.listingDetails.floorPlan.code,image:Fa({},e.listingDetails.floorPlan.image,{isUploading:!1,isUploaded:!0,error:!1})},descriptions:Fa({},e.listingDetails.descriptions,{rooms:e.listingDetails.descriptions.rooms.map((function(t){return function(e,t){return{id:e.id,title:e.title,description:e.description,displayOrder:e.displayOrder,measurements:{width:Ba(e.measurements.width,t),length:Ba(e.measurements.length,t)}}}(t,e.listingDetails.descriptions.measurementUnit)}))})})})}(t):{};return i.a.createElement(I.Formik,{initialValues:o,onSubmit:function(e,t){var a=t.setSubmitting,i=Fa({},e);function o(){return(o=Ta(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([Wt(t),new Promise((function(e){return setTimeout(e,1500)}))]);case 2:n(new Date),r(!1);case 4:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}return r(!0),a(!1),function(e){return o.apply(this,arguments)}(Fa({},i,{listingDetails:Fa({},i.listingDetails,{descriptions:Fa({},i.listingDetails.descriptions,{rooms:i.listingDetails.descriptions.rooms.map((function(e){return Fa({},e,{measurements:{width:Ma(e.measurements.width,i.listingDetails.descriptions.measurementUnit),length:Ma(e.measurements.length,i.listingDetails.descriptions.measurementUnit)}})}))})})}))},validationSchema:te},(function(e){var t=[{icon:i.a.createElement(F.a,null),name:\"Save\",enabled:!0,onClick:e.submitForm},{icon:i.a.createElement(M.a,null),name:\"Preview\",enabled:!0,onClick:e.submitForm},{icon:i.a.createElement(L.a,null),name:\"Set live\",enabled:!1,onClick:e.submitForm},{icon:i.a.createElement(M.a,null),name:\"Export to PDF\",enabled:!0,onClick:function(){console.log(\"exporting to pdf\")}}];return i.a.createElement(I.Form,null,i.a.createElement(ae,{saveDelaySeconds:60}),i.a.createElement(c.a,{container:!0,spacing:4},i.a.createElement(c.a,{item:!0,xs:12},i.a.createElement(ar,null)),i.a.createElement(c.a,{item:!0,xs:12},i.a.createElement(fa,null)),i.a.createElement(c.a,{item:!0,xs:12},i.a.createElement(A.a,null,i.a.createElement(ke,null))),i.a.createElement(c.a,{item:!0,xs:12},i.a.createElement(Gn,null)),i.a.createElement(c.a,{item:!0,xs:12},i.a.createElement(we,null)),i.a.createElement(c.a,{item:!0,xs:12},i.a.createElement(un,null)),i.a.createElement(c.a,{item:!0,xs:12},e.values.propertyDetails.isScottishProperty?i.a.createElement(Oa,null):i.a.createElement(va,{\"data-testid\":\"epc-details\"})),i.a.createElement(c.a,{item:!0,xs:12},i.a.createElement(ia,null)),i.a.createElement(c.a,{item:!0,xs:12},e.values.propertyDetails.isScottishProperty?i.a.createElement(\"div\",null):i.a.createElement(ra,null)),i.a.createElement(c.a,{item:!0,xs:12},i.a.createElement(On,null))),i.a.createElement(Ra,{className:a.saveForm,actions:t}))}))};function Wa(e,t,r,n,a,i,o){try{var l=e[i](o),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,a)}function Ga(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){Wa(i,n,a,o,l,\"next\",e)}function l(e){Wa(i,n,a,o,l,\"throw\",e)}o(void 0)}))}}function za(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}()}var Va=f()((function(e){return{parentContainer:{display:\"flex\",flexDirection:\"row\",width:\"100%\"},containerStyle:{marginTop:\"2rem\",marginBottom:\"2rem\"},mainContentContainer:{display:\"flex\",flexDirection:\"column\",marginLeft:\"\".concat(240,\"px\"),flex:\"0 0 100%\",maxWidth:\"calc(100% - \".concat(240,\"px)\")}}}));t.default=function(){var e=Va({}),t=za(Object(a.useState)(!1),2),r=t[0],n=t[1],l=za(Object(a.useState)(!1),2),s=l[0],m=l[1],d=za(Object(a.useState)(null),2),f=d[0],g=d[1],y=za(Object(a.useState)(!1),2),v=y[0],h=y[1],w=za(Object(a.useState)(new Date),2),x=w[0],P=w[1],S=Object(o.useParams)().id;return Object(a.useEffect)((function(){function e(){return(e=Ga(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(!0),e.next=4,Ut(S);case 4:(t=e.sent)?g(t):console.log(\"Could not load Id: \".concat(S)),n(!1),m(!0),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),n(!1);case 14:case\"end\":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[S]),i.a.createElement(i.a.Fragment,null,r&&i.a.createElement(\"div\",null,i.a.createElement(\"h1\",null,\"loading\")),!r&&s&&i.a.createElement(u.a,{in:!0},i.a.createElement(\"div\",{className:e.parentContainer},i.a.createElement(\"div\",{className:e.mainContentContainer},i.a.createElement(j.a,null),i.a.createElement(O,{saving:v,lastSaved:x}),i.a.createElement(b.a,{className:e.containerStyle,fixed:!0},i.a.createElement(c.a,{container:!0,spacing:4},i.a.createElement(c.a,{item:!0,xs:12},f&&i.a.createElement(C,{customer:{label:\"test name\",route:\"/listing\"}}))),i.a.createElement(c.a,{container:!0,spacing:4,alignItems:\"center\"},i.a.createElement(c.a,{item:!0,xs:9},f&&i.a.createElement(\"h2\",null,function(e){return i.a.createElement(i.a.Fragment,null,e.propertyDetails.address.buildingName&&\"\".concat(e.propertyDetails.address.buildingName,\" \"),e.propertyDetails.address.buildingNumber&&\"\".concat(e.propertyDetails.address.buildingNumber,\" \"),e.propertyDetails.address.street&&\"\".concat(e.propertyDetails.address.street,\", \"),e.propertyDetails.address.line3&&\"\".concat(e.propertyDetails.address.line3,\", \"),e.propertyDetails.address.postalCode)}(f))),i.a.createElement(c.a,{item:!0,xs:3},i.a.createElement(p.a,{href:\"/listing\"},\"Cancel listing\"))),i.a.createElement(Ua,{listing:f,setSaving:h,setLastSaved:P}))),i.a.createElement(E.a,null))))}}};","extractedComments":[]}